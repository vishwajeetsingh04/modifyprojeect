{"ast":null,"code":"import _objectSpread from\"C:/vishu study/new pj/New folder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect}from'react';import{io}from'socket.io-client';import axios from'axios';import toast from'react-hot-toast';// Create context\nimport{jsx as _jsx}from\"react/jsx-runtime\";const InterviewContext=/*#__PURE__*/createContext();// Initial state\nconst initialState={// Session data\nsessionId:null,candidateName:'',questions:[],currentQuestionIndex:0,// Interview status\nisInterviewActive:false,isInterviewCompleted:false,// Real-time metrics\nmetrics:{eyeContactPercentage:0,confidenceScore:0,speechClarity:0,emotionScores:{},warnings:[]},// Media streams\nvideoStream:null,audioStream:null,// UI state\nisLoading:false,error:null,// Results\nfinalResults:null,// Socket connection\nsocket:null,isConnected:false,// Resume analysis\nresumeAnalysis:null};// Action types\nconst ACTIONS={SET_SESSION_ID:'SET_SESSION_ID',SET_CANDIDATE_NAME:'SET_CANDIDATE_NAME',SET_QUESTIONS:'SET_QUESTIONS',SET_CURRENT_QUESTION:'SET_CURRENT_QUESTION',SET_INTERVIEW_ACTIVE:'SET_INTERVIEW_ACTIVE',SET_INTERVIEW_COMPLETED:'SET_INTERVIEW_COMPLETED',UPDATE_METRICS:'UPDATE_METRICS',SET_VIDEO_STREAM:'SET_VIDEO_STREAM',SET_AUDIO_STREAM:'SET_AUDIO_STREAM',SET_LOADING:'SET_LOADING',SET_ERROR:'SET_ERROR',SET_FINAL_RESULTS:'SET_FINAL_RESULTS',SET_SOCKET:'SET_SOCKET',SET_CONNECTED:'SET_CONNECTED',RESET_STATE:'RESET_STATE',ADD_FOLLOWUP_QUESTION:'ADD_FOLLOWUP_QUESTION',SET_RESUME_ANALYSIS:'SET_RESUME_ANALYSIS'};// Reducer function\nfunction interviewReducer(state,action){switch(action.type){case ACTIONS.SET_SESSION_ID:return _objectSpread(_objectSpread({},state),{},{sessionId:action.payload});case ACTIONS.SET_CANDIDATE_NAME:return _objectSpread(_objectSpread({},state),{},{candidateName:action.payload});case ACTIONS.SET_QUESTIONS:return _objectSpread(_objectSpread({},state),{},{questions:action.payload});case ACTIONS.SET_CURRENT_QUESTION:return _objectSpread(_objectSpread({},state),{},{currentQuestionIndex:action.payload});case ACTIONS.SET_INTERVIEW_ACTIVE:return _objectSpread(_objectSpread({},state),{},{isInterviewActive:action.payload});case ACTIONS.SET_INTERVIEW_COMPLETED:return _objectSpread(_objectSpread({},state),{},{isInterviewCompleted:action.payload});case ACTIONS.UPDATE_METRICS:return _objectSpread(_objectSpread({},state),{},{metrics:_objectSpread(_objectSpread({},state.metrics),action.payload)});case ACTIONS.SET_VIDEO_STREAM:return _objectSpread(_objectSpread({},state),{},{videoStream:action.payload});case ACTIONS.SET_AUDIO_STREAM:return _objectSpread(_objectSpread({},state),{},{audioStream:action.payload});case ACTIONS.SET_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:action.payload});case ACTIONS.SET_ERROR:return _objectSpread(_objectSpread({},state),{},{error:action.payload});case ACTIONS.SET_FINAL_RESULTS:return _objectSpread(_objectSpread({},state),{},{finalResults:action.payload});case ACTIONS.SET_SOCKET:return _objectSpread(_objectSpread({},state),{},{socket:action.payload});case ACTIONS.SET_CONNECTED:return _objectSpread(_objectSpread({},state),{},{isConnected:action.payload});case ACTIONS.RESET_STATE:return initialState;case ACTIONS.ADD_FOLLOWUP_QUESTION:return _objectSpread(_objectSpread({},state),{},{questions:[...state.questions,action.payload]});case ACTIONS.SET_RESUME_ANALYSIS:return _objectSpread(_objectSpread({},state),{},{resumeAnalysis:action.payload});default:return state;}}// Provider component\nexport function InterviewProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(interviewReducer,initialState);// Initialize socket connection\nuseEffect(()=>{const socket=io('http://localhost:5000',{transports:['websocket'],autoConnect:false});socket.on('connect',()=>{dispatch({type:ACTIONS.SET_CONNECTED,payload:true});console.log('Connected to server');});socket.on('disconnect',()=>{dispatch({type:ACTIONS.SET_CONNECTED,payload:false});console.log('Disconnected from server');});socket.on('metrics_update',data=>{dispatch({type:ACTIONS.UPDATE_METRICS,payload:data.metrics});});socket.on('error',error=>{dispatch({type:ACTIONS.SET_ERROR,payload:error.message});toast.error('Connection error: '+error.message);});dispatch({type:ACTIONS.SET_SOCKET,payload:socket});return()=>{socket.disconnect();};},[]);// API functions\nconst api={// Health check\ncheckHealth:async()=>{try{const response=await axios.get('/api/health');return response.data;}catch(error){console.error('Health check failed:',error);throw error;}},// Upload resume\nuploadResume:async file=>{dispatch({type:ACTIONS.SET_LOADING,payload:true});try{const formData=new FormData();formData.append('resume',file);const response=await axios.post('/api/upload-resume',formData,{headers:{'Content-Type':'multipart/form-data'}});dispatch({type:ACTIONS.SET_LOADING,payload:false});return response.data;}catch(error){dispatch({type:ACTIONS.SET_LOADING,payload:false});dispatch({type:ACTIONS.SET_ERROR,payload:error.message});toast.error('Failed to upload resume: '+error.message);throw error;}},// Start interview\nstartInterview:async(candidateName,questions)=>{dispatch({type:ACTIONS.SET_LOADING,payload:true});try{const response=await axios.post('/api/start-interview',{candidate_name:candidateName,questions:questions});const{session_id}=response.data;dispatch({type:ACTIONS.SET_SESSION_ID,payload:session_id});dispatch({type:ACTIONS.SET_CANDIDATE_NAME,payload:candidateName});dispatch({type:ACTIONS.SET_QUESTIONS,payload:questions});dispatch({type:ACTIONS.SET_LOADING,payload:false});// Join socket room\nif(state.socket){state.socket.emit('join_session',{session_id});}toast.success('Interview session started!');return response.data;}catch(error){dispatch({type:ACTIONS.SET_LOADING,payload:false});dispatch({type:ACTIONS.SET_ERROR,payload:error.message});toast.error('Failed to start interview: '+error.message);throw error;}},// Process video frame\nprocessFrame:async frameData=>{if(!state.sessionId)return;try{const response=await axios.post('/api/process-frame',{session_id:state.sessionId,frame_data:frameData});// Update metrics with the response data\nif(response.data.success&&response.data.metrics){dispatch({type:ACTIONS.UPDATE_METRICS,payload:response.data.metrics});}return response.data;}catch(error){console.error('Frame processing error:',error);// Don't show toast for frame processing errors as they're frequent\n}},// Process audio\nprocessAudio:async audioData=>{if(!state.sessionId)return;try{const response=await axios.post('/api/process-audio',{session_id:state.sessionId,audio_data:audioData});return response.data;}catch(error){console.error('Audio processing error:',error);}},// End interview\nendInterview:async()=>{if(!state.sessionId)return;dispatch({type:ACTIONS.SET_LOADING,payload:true});try{const response=await axios.post(\"/api/end-interview/\".concat(state.sessionId));dispatch({type:ACTIONS.SET_FINAL_RESULTS,payload:response.data.final_report});dispatch({type:ACTIONS.SET_INTERVIEW_COMPLETED,payload:true});dispatch({type:ACTIONS.SET_INTERVIEW_ACTIVE,payload:false});dispatch({type:ACTIONS.SET_LOADING,payload:false});toast.success('Interview completed successfully!');return response.data;}catch(error){dispatch({type:ACTIONS.SET_LOADING,payload:false});dispatch({type:ACTIONS.SET_ERROR,payload:error.message});toast.error('Failed to end interview: '+error.message);throw error;}},// Get session details\ngetSessionDetails:async sessionId=>{try{const response=await axios.get(\"/api/sessions/\".concat(sessionId));return response.data;}catch(error){console.error('Failed to get session details:',error);throw error;}},// Get all sessions\ngetAllSessions:async()=>{try{const response=await axios.get('/api/sessions');return response.data;}catch(error){console.error('Failed to get sessions:',error);throw error;}},// Get current metrics for a session\ngetCurrentMetrics:async sessionId=>{try{const response=await axios.get(\"/api/sessions/\".concat(sessionId,\"/metrics\"));if(response.data.success){dispatch({type:ACTIONS.UPDATE_METRICS,payload:response.data.metrics});}return response.data;}catch(error){console.error('Failed to get current metrics:',error);throw error;}},// Request metrics update via WebSocket\nrequestMetricsUpdate:()=>{if(state.socket&&state.sessionId){state.socket.emit('request_metrics',{session_id:state.sessionId});}},// Submit answer and get follow-up question\nsubmitAnswer:async(questionId,answerText,currentQuestion)=>{if(!state.sessionId)return;try{const response=await axios.post('/api/submit-answer',{session_id:state.sessionId,question_id:questionId,answer_text:answerText,current_question:currentQuestion});if(response.data.success){// Update metrics with the response\ndispatch({type:ACTIONS.UPDATE_METRICS,payload:response.data.updated_metrics});// Store the follow-up question\nif(response.data.followup_question){dispatch({type:ACTIONS.ADD_FOLLOWUP_QUESTION,payload:response.data.followup_question});}}return response.data;}catch(error){console.error('Failed to submit answer:',error);throw error;}},// Generate follow-up question\ngenerateFollowupQuestion:async(currentQuestion,previousAnswer,questionHistory)=>{if(!state.sessionId)return;try{const response=await axios.post('/api/generate-followup-question',{session_id:state.sessionId,current_question:currentQuestion,previous_answer:previousAnswer,question_history:questionHistory});return response.data;}catch(error){console.error('Failed to generate follow-up question:',error);throw error;}},// Request eye contact status update\nrequestEyeContactStatus:()=>{if(state.socket&&state.sessionId){state.socket.emit('request_eye_contact_status',{session_id:state.sessionId});}},// Get current eye contact status\ngetEyeContactStatus:async()=>{if(!state.sessionId)return;try{const response=await axios.get(\"/api/eye-contact-status/\".concat(state.sessionId));return response.data;}catch(error){console.error('Failed to get eye contact status:',error);throw error;}},// Analyze resume\nanalyzeResume:async resumeFile=>{if(!state.sessionId)return;try{const formData=new FormData();formData.append('resume',resumeFile);formData.append('session_id',state.sessionId);const response=await axios.post('/api/analyze-resume',formData,{headers:{'Content-Type':'multipart/form-data'}});if(response.data.success){// Store resume analysis in context\ndispatch({type:ACTIONS.SET_RESUME_ANALYSIS,payload:response.data.resume_analysis});}return response.data;}catch(error){console.error('Failed to analyze resume:',error);throw error;}}};// Utility functions\nconst utils={// Get current question\ngetCurrentQuestion:()=>{return state.questions[state.currentQuestionIndex]||null;},// Move to next question\nnextQuestion:()=>{if(state.currentQuestionIndex<state.questions.length-1){dispatch({type:ACTIONS.SET_CURRENT_QUESTION,payload:state.currentQuestionIndex+1});return true;}return false;},// Move to previous question\npreviousQuestion:()=>{if(state.currentQuestionIndex>0){dispatch({type:ACTIONS.SET_CURRENT_QUESTION,payload:state.currentQuestionIndex-1});return true;}return false;},// Reset state\nresetState:()=>{dispatch({type:ACTIONS.RESET_STATE});},// Connect socket\nconnectSocket:()=>{if(state.socket&&!state.isConnected){state.socket.connect();}},// Disconnect socket\ndisconnectSocket:()=>{if(state.socket&&state.isConnected){state.socket.disconnect();}}};const value=_objectSpread(_objectSpread({},state),{},{api,utils,dispatch});return/*#__PURE__*/_jsx(InterviewContext.Provider,{value:value,children:children});}// Custom hook to use the context\nexport function useInterview(){const context=useContext(InterviewContext);if(!context){throw new Error('useInterview must be used within an InterviewProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","io","axios","toast","jsx","_jsx","InterviewContext","initialState","sessionId","candidateName","questions","currentQuestionIndex","isInterviewActive","isInterviewCompleted","metrics","eyeContactPercentage","confidenceScore","speechClarity","emotionScores","warnings","videoStream","audioStream","isLoading","error","finalResults","socket","isConnected","resumeAnalysis","ACTIONS","SET_SESSION_ID","SET_CANDIDATE_NAME","SET_QUESTIONS","SET_CURRENT_QUESTION","SET_INTERVIEW_ACTIVE","SET_INTERVIEW_COMPLETED","UPDATE_METRICS","SET_VIDEO_STREAM","SET_AUDIO_STREAM","SET_LOADING","SET_ERROR","SET_FINAL_RESULTS","SET_SOCKET","SET_CONNECTED","RESET_STATE","ADD_FOLLOWUP_QUESTION","SET_RESUME_ANALYSIS","interviewReducer","state","action","type","_objectSpread","payload","InterviewProvider","_ref","children","dispatch","transports","autoConnect","on","console","log","data","message","disconnect","api","checkHealth","response","get","uploadResume","file","formData","FormData","append","post","headers","startInterview","candidate_name","session_id","emit","success","processFrame","frameData","frame_data","processAudio","audioData","audio_data","endInterview","concat","final_report","getSessionDetails","getAllSessions","getCurrentMetrics","requestMetricsUpdate","submitAnswer","questionId","answerText","currentQuestion","question_id","answer_text","current_question","updated_metrics","followup_question","generateFollowupQuestion","previousAnswer","questionHistory","previous_answer","question_history","requestEyeContactStatus","getEyeContactStatus","analyzeResume","resumeFile","resume_analysis","utils","getCurrentQuestion","nextQuestion","length","previousQuestion","resetState","connectSocket","connect","disconnectSocket","value","Provider","useInterview","context","Error"],"sources":["C:/vishu study/new pj/New folder/frontend/src/context/InterviewContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\n// Create context\r\nconst InterviewContext = createContext();\r\n\r\n// Initial state\r\nconst initialState = {\r\n  // Session data\r\n  sessionId: null,\r\n  candidateName: '',\r\n  questions: [],\r\n  currentQuestionIndex: 0,\r\n  \r\n  // Interview status\r\n  isInterviewActive: false,\r\n  isInterviewCompleted: false,\r\n  \r\n  // Real-time metrics\r\n  metrics: {\r\n    eyeContactPercentage: 0,\r\n    confidenceScore: 0,\r\n    speechClarity: 0,\r\n    emotionScores: {},\r\n    warnings: []\r\n  },\r\n  \r\n  // Media streams\r\n  videoStream: null,\r\n  audioStream: null,\r\n  \r\n  // UI state\r\n  isLoading: false,\r\n  error: null,\r\n  \r\n  // Results\r\n  finalResults: null,\r\n  \r\n  // Socket connection\r\n  socket: null,\r\n  isConnected: false,\r\n\r\n  // Resume analysis\r\n  resumeAnalysis: null\r\n};\r\n\r\n// Action types\r\nconst ACTIONS = {\r\n  SET_SESSION_ID: 'SET_SESSION_ID',\r\n  SET_CANDIDATE_NAME: 'SET_CANDIDATE_NAME',\r\n  SET_QUESTIONS: 'SET_QUESTIONS',\r\n  SET_CURRENT_QUESTION: 'SET_CURRENT_QUESTION',\r\n  SET_INTERVIEW_ACTIVE: 'SET_INTERVIEW_ACTIVE',\r\n  SET_INTERVIEW_COMPLETED: 'SET_INTERVIEW_COMPLETED',\r\n  UPDATE_METRICS: 'UPDATE_METRICS',\r\n  SET_VIDEO_STREAM: 'SET_VIDEO_STREAM',\r\n  SET_AUDIO_STREAM: 'SET_AUDIO_STREAM',\r\n  SET_LOADING: 'SET_LOADING',\r\n  SET_ERROR: 'SET_ERROR',\r\n  SET_FINAL_RESULTS: 'SET_FINAL_RESULTS',\r\n  SET_SOCKET: 'SET_SOCKET',\r\n  SET_CONNECTED: 'SET_CONNECTED',\r\n  RESET_STATE: 'RESET_STATE',\r\n  ADD_FOLLOWUP_QUESTION: 'ADD_FOLLOWUP_QUESTION',\r\n  SET_RESUME_ANALYSIS: 'SET_RESUME_ANALYSIS'\r\n};\r\n\r\n// Reducer function\r\nfunction interviewReducer(state, action) {\r\n  switch (action.type) {\r\n    case ACTIONS.SET_SESSION_ID:\r\n      return { ...state, sessionId: action.payload };\r\n    \r\n    case ACTIONS.SET_CANDIDATE_NAME:\r\n      return { ...state, candidateName: action.payload };\r\n    \r\n    case ACTIONS.SET_QUESTIONS:\r\n      return { ...state, questions: action.payload };\r\n    \r\n    case ACTIONS.SET_CURRENT_QUESTION:\r\n      return { ...state, currentQuestionIndex: action.payload };\r\n    \r\n    case ACTIONS.SET_INTERVIEW_ACTIVE:\r\n      return { ...state, isInterviewActive: action.payload };\r\n    \r\n    case ACTIONS.SET_INTERVIEW_COMPLETED:\r\n      return { ...state, isInterviewCompleted: action.payload };\r\n    \r\n    case ACTIONS.UPDATE_METRICS:\r\n      return { \r\n        ...state, \r\n        metrics: { ...state.metrics, ...action.payload }\r\n      };\r\n    \r\n    case ACTIONS.SET_VIDEO_STREAM:\r\n      return { ...state, videoStream: action.payload };\r\n    \r\n    case ACTIONS.SET_AUDIO_STREAM:\r\n      return { ...state, audioStream: action.payload };\r\n    \r\n    case ACTIONS.SET_LOADING:\r\n      return { ...state, isLoading: action.payload };\r\n    \r\n    case ACTIONS.SET_ERROR:\r\n      return { ...state, error: action.payload };\r\n    \r\n    case ACTIONS.SET_FINAL_RESULTS:\r\n      return { ...state, finalResults: action.payload };\r\n    \r\n    case ACTIONS.SET_SOCKET:\r\n      return { ...state, socket: action.payload };\r\n    \r\n    case ACTIONS.SET_CONNECTED:\r\n      return { ...state, isConnected: action.payload };\r\n    \r\n    case ACTIONS.RESET_STATE:\r\n      return initialState;\r\n    \r\n    case ACTIONS.ADD_FOLLOWUP_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: [...state.questions, action.payload]\r\n      };\r\n    \r\n    case ACTIONS.SET_RESUME_ANALYSIS:\r\n      return { ...state, resumeAnalysis: action.payload };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Provider component\r\nexport function InterviewProvider({ children }) {\r\n  const [state, dispatch] = useReducer(interviewReducer, initialState);\r\n\r\n  // Initialize socket connection\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:5000', {\r\n      transports: ['websocket'],\r\n      autoConnect: false\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      dispatch({ type: ACTIONS.SET_CONNECTED, payload: true });\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      dispatch({ type: ACTIONS.SET_CONNECTED, payload: false });\r\n      console.log('Disconnected from server');\r\n    });\r\n\r\n    socket.on('metrics_update', (data) => {\r\n      dispatch({ type: ACTIONS.UPDATE_METRICS, payload: data.metrics });\r\n    });\r\n\r\n    socket.on('error', (error) => {\r\n      dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n      toast.error('Connection error: ' + error.message);\r\n    });\r\n\r\n    dispatch({ type: ACTIONS.SET_SOCKET, payload: socket });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // API functions\r\n  const api = {\r\n    // Health check\r\n    checkHealth: async () => {\r\n      try {\r\n        const response = await axios.get('/api/health');\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Health check failed:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Upload resume\r\n    uploadResume: async (file) => {\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('resume', file);\r\n\r\n        const response = await axios.post('/api/upload-resume', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to upload resume: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Start interview\r\n    startInterview: async (candidateName, questions) => {\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const response = await axios.post('/api/start-interview', {\r\n          candidate_name: candidateName,\r\n          questions: questions\r\n        });\r\n\r\n        const { session_id } = response.data;\r\n        dispatch({ type: ACTIONS.SET_SESSION_ID, payload: session_id });\r\n        dispatch({ type: ACTIONS.SET_CANDIDATE_NAME, payload: candidateName });\r\n        dispatch({ type: ACTIONS.SET_QUESTIONS, payload: questions });\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n\r\n        // Join socket room\r\n        if (state.socket) {\r\n          state.socket.emit('join_session', { session_id });\r\n        }\r\n\r\n        toast.success('Interview session started!');\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to start interview: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Process video frame\r\n    processFrame: async (frameData) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/process-frame', {\r\n          session_id: state.sessionId,\r\n          frame_data: frameData\r\n        });\r\n\r\n        // Update metrics with the response data\r\n        if (response.data.success && response.data.metrics) {\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.metrics });\r\n        }\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Frame processing error:', error);\r\n        // Don't show toast for frame processing errors as they're frequent\r\n      }\r\n    },\r\n\r\n    // Process audio\r\n    processAudio: async (audioData) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/process-audio', {\r\n          session_id: state.sessionId,\r\n          audio_data: audioData\r\n        });\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Audio processing error:', error);\r\n      }\r\n    },\r\n\r\n    // End interview\r\n    endInterview: async () => {\r\n      if (!state.sessionId) return;\r\n\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const response = await axios.post(`/api/end-interview/${state.sessionId}`);\r\n        \r\n        dispatch({ type: ACTIONS.SET_FINAL_RESULTS, payload: response.data.final_report });\r\n        dispatch({ type: ACTIONS.SET_INTERVIEW_COMPLETED, payload: true });\r\n        dispatch({ type: ACTIONS.SET_INTERVIEW_ACTIVE, payload: false });\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n\r\n        toast.success('Interview completed successfully!');\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to end interview: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get session details\r\n    getSessionDetails: async (sessionId) => {\r\n      try {\r\n        const response = await axios.get(`/api/sessions/${sessionId}`);\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get session details:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get all sessions\r\n    getAllSessions: async () => {\r\n      try {\r\n        const response = await axios.get('/api/sessions');\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get sessions:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get current metrics for a session\r\n    getCurrentMetrics: async (sessionId) => {\r\n      try {\r\n        const response = await axios.get(`/api/sessions/${sessionId}/metrics`);\r\n        if (response.data.success) {\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.metrics });\r\n        }\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get current metrics:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Request metrics update via WebSocket\r\n    requestMetricsUpdate: () => {\r\n      if (state.socket && state.sessionId) {\r\n        state.socket.emit('request_metrics', { session_id: state.sessionId });\r\n      }\r\n    },\r\n\r\n    // Submit answer and get follow-up question\r\n    submitAnswer: async (questionId, answerText, currentQuestion) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/submit-answer', {\r\n          session_id: state.sessionId,\r\n          question_id: questionId,\r\n          answer_text: answerText,\r\n          current_question: currentQuestion\r\n        });\r\n\r\n        if (response.data.success) {\r\n          // Update metrics with the response\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.updated_metrics });\r\n          \r\n          // Store the follow-up question\r\n          if (response.data.followup_question) {\r\n            dispatch({ \r\n              type: ACTIONS.ADD_FOLLOWUP_QUESTION, \r\n              payload: response.data.followup_question \r\n            });\r\n          }\r\n        }\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to submit answer:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Generate follow-up question\r\n    generateFollowupQuestion: async (currentQuestion, previousAnswer, questionHistory) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/generate-followup-question', {\r\n          session_id: state.sessionId,\r\n          current_question: currentQuestion,\r\n          previous_answer: previousAnswer,\r\n          question_history: questionHistory\r\n        });\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to generate follow-up question:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Request eye contact status update\r\n    requestEyeContactStatus: () => {\r\n      if (state.socket && state.sessionId) {\r\n        state.socket.emit('request_eye_contact_status', { session_id: state.sessionId });\r\n      }\r\n    },\r\n\r\n    // Get current eye contact status\r\n    getEyeContactStatus: async () => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.get(`/api/eye-contact-status/${state.sessionId}`);\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get eye contact status:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Analyze resume\r\n    analyzeResume: async (resumeFile) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('resume', resumeFile);\r\n        formData.append('session_id', state.sessionId);\r\n\r\n        const response = await axios.post('/api/analyze-resume', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n\r\n        if (response.data.success) {\r\n          // Store resume analysis in context\r\n          dispatch({ \r\n            type: ACTIONS.SET_RESUME_ANALYSIS, \r\n            payload: response.data.resume_analysis \r\n          });\r\n        }\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to analyze resume:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Utility functions\r\n  const utils = {\r\n    // Get current question\r\n    getCurrentQuestion: () => {\r\n      return state.questions[state.currentQuestionIndex] || null;\r\n    },\r\n\r\n    // Move to next question\r\n    nextQuestion: () => {\r\n      if (state.currentQuestionIndex < state.questions.length - 1) {\r\n        dispatch({ \r\n          type: ACTIONS.SET_CURRENT_QUESTION, \r\n          payload: state.currentQuestionIndex + 1 \r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    // Move to previous question\r\n    previousQuestion: () => {\r\n      if (state.currentQuestionIndex > 0) {\r\n        dispatch({ \r\n          type: ACTIONS.SET_CURRENT_QUESTION, \r\n          payload: state.currentQuestionIndex - 1 \r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    // Reset state\r\n    resetState: () => {\r\n      dispatch({ type: ACTIONS.RESET_STATE });\r\n    },\r\n\r\n    // Connect socket\r\n    connectSocket: () => {\r\n      if (state.socket && !state.isConnected) {\r\n        state.socket.connect();\r\n      }\r\n    },\r\n\r\n    // Disconnect socket\r\n    disconnectSocket: () => {\r\n      if (state.socket && state.isConnected) {\r\n        state.socket.disconnect();\r\n      }\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    ...state,\r\n    api,\r\n    utils,\r\n    dispatch\r\n  };\r\n\r\n  return (\r\n    <InterviewContext.Provider value={value}>\r\n      {children}\r\n    </InterviewContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use the context\r\nexport function useInterview() {\r\n  const context = useContext(InterviewContext);\r\n  if (!context) {\r\n    throw new Error('useInterview must be used within an InterviewProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}