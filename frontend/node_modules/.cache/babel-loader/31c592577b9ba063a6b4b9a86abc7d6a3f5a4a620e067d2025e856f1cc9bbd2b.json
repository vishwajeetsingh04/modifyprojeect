{"ast":null,"code":"var _jsxFileName = \"C:\\\\vishu study\\\\new pj\\\\New folder\\\\frontend\\\\src\\\\context\\\\InterviewContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Create context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InterviewContext = /*#__PURE__*/createContext();\n\n// Initial state\nconst initialState = {\n  // Session data\n  sessionId: null,\n  candidateName: '',\n  questions: [],\n  currentQuestionIndex: 0,\n  // Interview status\n  isInterviewActive: false,\n  isInterviewCompleted: false,\n  // Real-time metrics\n  metrics: {\n    eyeContactPercentage: 0,\n    confidenceScore: 0,\n    speechClarity: 0,\n    emotionScores: {},\n    warnings: []\n  },\n  // Media streams\n  videoStream: null,\n  audioStream: null,\n  // UI state\n  isLoading: false,\n  error: null,\n  // Results\n  finalResults: null,\n  // Socket connection\n  socket: null,\n  isConnected: false\n};\n\n// Action types\nconst ACTIONS = {\n  SET_SESSION_ID: 'SET_SESSION_ID',\n  SET_CANDIDATE_NAME: 'SET_CANDIDATE_NAME',\n  SET_QUESTIONS: 'SET_QUESTIONS',\n  SET_CURRENT_QUESTION: 'SET_CURRENT_QUESTION',\n  SET_INTERVIEW_ACTIVE: 'SET_INTERVIEW_ACTIVE',\n  SET_INTERVIEW_COMPLETED: 'SET_INTERVIEW_COMPLETED',\n  UPDATE_METRICS: 'UPDATE_METRICS',\n  SET_VIDEO_STREAM: 'SET_VIDEO_STREAM',\n  SET_AUDIO_STREAM: 'SET_AUDIO_STREAM',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n  SET_FINAL_RESULTS: 'SET_FINAL_RESULTS',\n  SET_SOCKET: 'SET_SOCKET',\n  SET_CONNECTED: 'SET_CONNECTED',\n  RESET_STATE: 'RESET_STATE',\n  ADD_FOLLOWUP_QUESTION: 'ADD_FOLLOWUP_QUESTION'\n};\n\n// Reducer function\nfunction interviewReducer(state, action) {\n  switch (action.type) {\n    case ACTIONS.SET_SESSION_ID:\n      return {\n        ...state,\n        sessionId: action.payload\n      };\n    case ACTIONS.SET_CANDIDATE_NAME:\n      return {\n        ...state,\n        candidateName: action.payload\n      };\n    case ACTIONS.SET_QUESTIONS:\n      return {\n        ...state,\n        questions: action.payload\n      };\n    case ACTIONS.SET_CURRENT_QUESTION:\n      return {\n        ...state,\n        currentQuestionIndex: action.payload\n      };\n    case ACTIONS.SET_INTERVIEW_ACTIVE:\n      return {\n        ...state,\n        isInterviewActive: action.payload\n      };\n    case ACTIONS.SET_INTERVIEW_COMPLETED:\n      return {\n        ...state,\n        isInterviewCompleted: action.payload\n      };\n    case ACTIONS.UPDATE_METRICS:\n      return {\n        ...state,\n        metrics: {\n          ...state.metrics,\n          ...action.payload\n        }\n      };\n    case ACTIONS.SET_VIDEO_STREAM:\n      return {\n        ...state,\n        videoStream: action.payload\n      };\n    case ACTIONS.SET_AUDIO_STREAM:\n      return {\n        ...state,\n        audioStream: action.payload\n      };\n    case ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload\n      };\n    case ACTIONS.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload\n      };\n    case ACTIONS.SET_FINAL_RESULTS:\n      return {\n        ...state,\n        finalResults: action.payload\n      };\n    case ACTIONS.SET_SOCKET:\n      return {\n        ...state,\n        socket: action.payload\n      };\n    case ACTIONS.SET_CONNECTED:\n      return {\n        ...state,\n        isConnected: action.payload\n      };\n    case ACTIONS.RESET_STATE:\n      return initialState;\n    case ACTIONS.ADD_FOLLOWUP_QUESTION:\n      return {\n        ...state,\n        questions: [...state.questions, action.payload]\n      };\n    default:\n      return state;\n  }\n}\n\n// Provider component\nexport function InterviewProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(interviewReducer, initialState);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const socket = io('http://localhost:5000', {\n      transports: ['websocket'],\n      autoConnect: false\n    });\n    socket.on('connect', () => {\n      dispatch({\n        type: ACTIONS.SET_CONNECTED,\n        payload: true\n      });\n      console.log('Connected to server');\n    });\n    socket.on('disconnect', () => {\n      dispatch({\n        type: ACTIONS.SET_CONNECTED,\n        payload: false\n      });\n      console.log('Disconnected from server');\n    });\n    socket.on('metrics_update', data => {\n      dispatch({\n        type: ACTIONS.UPDATE_METRICS,\n        payload: data.metrics\n      });\n    });\n    socket.on('error', error => {\n      dispatch({\n        type: ACTIONS.SET_ERROR,\n        payload: error.message\n      });\n      toast.error('Connection error: ' + error.message);\n    });\n    dispatch({\n      type: ACTIONS.SET_SOCKET,\n      payload: socket\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  // API functions\n  const api = {\n    // Health check\n    checkHealth: async () => {\n      try {\n        const response = await axios.get('/api/health');\n        return response.data;\n      } catch (error) {\n        console.error('Health check failed:', error);\n        throw error;\n      }\n    },\n    // Upload resume\n    uploadResume: async file => {\n      dispatch({\n        type: ACTIONS.SET_LOADING,\n        payload: true\n      });\n      try {\n        const formData = new FormData();\n        formData.append('resume', file);\n        const response = await axios.post('/api/upload-resume', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n        return response.data;\n      } catch (error) {\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n        dispatch({\n          type: ACTIONS.SET_ERROR,\n          payload: error.message\n        });\n        toast.error('Failed to upload resume: ' + error.message);\n        throw error;\n      }\n    },\n    // Start interview\n    startInterview: async (candidateName, questions) => {\n      dispatch({\n        type: ACTIONS.SET_LOADING,\n        payload: true\n      });\n      try {\n        const response = await axios.post('/api/start-interview', {\n          candidate_name: candidateName,\n          questions: questions\n        });\n        const {\n          session_id\n        } = response.data;\n        dispatch({\n          type: ACTIONS.SET_SESSION_ID,\n          payload: session_id\n        });\n        dispatch({\n          type: ACTIONS.SET_CANDIDATE_NAME,\n          payload: candidateName\n        });\n        dispatch({\n          type: ACTIONS.SET_QUESTIONS,\n          payload: questions\n        });\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n\n        // Join socket room\n        if (state.socket) {\n          state.socket.emit('join_session', {\n            session_id\n          });\n        }\n        toast.success('Interview session started!');\n        return response.data;\n      } catch (error) {\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n        dispatch({\n          type: ACTIONS.SET_ERROR,\n          payload: error.message\n        });\n        toast.error('Failed to start interview: ' + error.message);\n        throw error;\n      }\n    },\n    // Process video frame\n    processFrame: async frameData => {\n      if (!state.sessionId) return;\n      try {\n        const response = await axios.post('/api/process-frame', {\n          session_id: state.sessionId,\n          frame_data: frameData\n        });\n\n        // Update metrics with the response data\n        if (response.data.success && response.data.metrics) {\n          dispatch({\n            type: ACTIONS.UPDATE_METRICS,\n            payload: response.data.metrics\n          });\n        }\n        return response.data;\n      } catch (error) {\n        console.error('Frame processing error:', error);\n        // Don't show toast for frame processing errors as they're frequent\n      }\n    },\n    // Process audio\n    processAudio: async audioData => {\n      if (!state.sessionId) return;\n      try {\n        const response = await axios.post('/api/process-audio', {\n          session_id: state.sessionId,\n          audio_data: audioData\n        });\n        return response.data;\n      } catch (error) {\n        console.error('Audio processing error:', error);\n      }\n    },\n    // End interview\n    endInterview: async () => {\n      if (!state.sessionId) return;\n      dispatch({\n        type: ACTIONS.SET_LOADING,\n        payload: true\n      });\n      try {\n        const response = await axios.post(`/api/end-interview/${state.sessionId}`);\n        dispatch({\n          type: ACTIONS.SET_FINAL_RESULTS,\n          payload: response.data.final_report\n        });\n        dispatch({\n          type: ACTIONS.SET_INTERVIEW_COMPLETED,\n          payload: true\n        });\n        dispatch({\n          type: ACTIONS.SET_INTERVIEW_ACTIVE,\n          payload: false\n        });\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n        toast.success('Interview completed successfully!');\n        return response.data;\n      } catch (error) {\n        dispatch({\n          type: ACTIONS.SET_LOADING,\n          payload: false\n        });\n        dispatch({\n          type: ACTIONS.SET_ERROR,\n          payload: error.message\n        });\n        toast.error('Failed to end interview: ' + error.message);\n        throw error;\n      }\n    },\n    // Get session details\n    getSessionDetails: async sessionId => {\n      try {\n        const response = await axios.get(`/api/sessions/${sessionId}`);\n        return response.data;\n      } catch (error) {\n        console.error('Failed to get session details:', error);\n        throw error;\n      }\n    },\n    // Get all sessions\n    getAllSessions: async () => {\n      try {\n        const response = await axios.get('/api/sessions');\n        return response.data;\n      } catch (error) {\n        console.error('Failed to get sessions:', error);\n        throw error;\n      }\n    },\n    // Get current metrics for a session\n    getCurrentMetrics: async sessionId => {\n      try {\n        const response = await axios.get(`/api/sessions/${sessionId}/metrics`);\n        if (response.data.success) {\n          dispatch({\n            type: ACTIONS.UPDATE_METRICS,\n            payload: response.data.metrics\n          });\n        }\n        return response.data;\n      } catch (error) {\n        console.error('Failed to get current metrics:', error);\n        throw error;\n      }\n    },\n    // Request metrics update via WebSocket\n    requestMetricsUpdate: () => {\n      if (state.socket && state.sessionId) {\n        state.socket.emit('request_metrics', {\n          session_id: state.sessionId\n        });\n      }\n    },\n    // Submit answer and get follow-up question\n    submitAnswer: async (questionId, answerText, currentQuestion) => {\n      if (!state.sessionId) return;\n      try {\n        const response = await axios.post('/api/submit-answer', {\n          session_id: state.sessionId,\n          question_id: questionId,\n          answer_text: answerText,\n          current_question: currentQuestion\n        });\n        if (response.data.success) {\n          // Update metrics with the response\n          dispatch({\n            type: ACTIONS.UPDATE_METRICS,\n            payload: response.data.updated_metrics\n          });\n\n          // Store the follow-up question\n          if (response.data.followup_question) {\n            dispatch({\n              type: ACTIONS.ADD_FOLLOWUP_QUESTION,\n              payload: response.data.followup_question\n            });\n          }\n        }\n        return response.data;\n      } catch (error) {\n        console.error('Failed to submit answer:', error);\n        throw error;\n      }\n    },\n    // Generate follow-up question\n    generateFollowupQuestion: async (currentQuestion, previousAnswer, questionHistory) => {\n      if (!state.sessionId) return;\n      try {\n        const response = await axios.post('/api/generate-followup-question', {\n          session_id: state.sessionId,\n          current_question: currentQuestion,\n          previous_answer: previousAnswer,\n          question_history: questionHistory\n        });\n        return response.data;\n      } catch (error) {\n        console.error('Failed to generate follow-up question:', error);\n        throw error;\n      }\n    }\n  };\n\n  // Utility functions\n  const utils = {\n    // Get current question\n    getCurrentQuestion: () => {\n      return state.questions[state.currentQuestionIndex] || null;\n    },\n    // Move to next question\n    nextQuestion: () => {\n      if (state.currentQuestionIndex < state.questions.length - 1) {\n        dispatch({\n          type: ACTIONS.SET_CURRENT_QUESTION,\n          payload: state.currentQuestionIndex + 1\n        });\n        return true;\n      }\n      return false;\n    },\n    // Move to previous question\n    previousQuestion: () => {\n      if (state.currentQuestionIndex > 0) {\n        dispatch({\n          type: ACTIONS.SET_CURRENT_QUESTION,\n          payload: state.currentQuestionIndex - 1\n        });\n        return true;\n      }\n      return false;\n    },\n    // Reset state\n    resetState: () => {\n      dispatch({\n        type: ACTIONS.RESET_STATE\n      });\n    },\n    // Connect socket\n    connectSocket: () => {\n      if (state.socket && !state.isConnected) {\n        state.socket.connect();\n      }\n    },\n    // Disconnect socket\n    disconnectSocket: () => {\n      if (state.socket && state.isConnected) {\n        state.socket.disconnect();\n      }\n    }\n  };\n  const value = {\n    ...state,\n    api,\n    utils,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(InterviewContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 5\n  }, this);\n}\n\n// Custom hook to use the context\n_s(InterviewProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = InterviewProvider;\nexport function useInterview() {\n  _s2();\n  const context = useContext(InterviewContext);\n  if (!context) {\n    throw new Error('useInterview must be used within an InterviewProvider');\n  }\n  return context;\n}\n_s2(useInterview, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"InterviewProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","io","axios","toast","jsxDEV","_jsxDEV","InterviewContext","initialState","sessionId","candidateName","questions","currentQuestionIndex","isInterviewActive","isInterviewCompleted","metrics","eyeContactPercentage","confidenceScore","speechClarity","emotionScores","warnings","videoStream","audioStream","isLoading","error","finalResults","socket","isConnected","ACTIONS","SET_SESSION_ID","SET_CANDIDATE_NAME","SET_QUESTIONS","SET_CURRENT_QUESTION","SET_INTERVIEW_ACTIVE","SET_INTERVIEW_COMPLETED","UPDATE_METRICS","SET_VIDEO_STREAM","SET_AUDIO_STREAM","SET_LOADING","SET_ERROR","SET_FINAL_RESULTS","SET_SOCKET","SET_CONNECTED","RESET_STATE","ADD_FOLLOWUP_QUESTION","interviewReducer","state","action","type","payload","InterviewProvider","children","_s","dispatch","transports","autoConnect","on","console","log","data","message","disconnect","api","checkHealth","response","get","uploadResume","file","formData","FormData","append","post","headers","startInterview","candidate_name","session_id","emit","success","processFrame","frameData","frame_data","processAudio","audioData","audio_data","endInterview","final_report","getSessionDetails","getAllSessions","getCurrentMetrics","requestMetricsUpdate","submitAnswer","questionId","answerText","currentQuestion","question_id","answer_text","current_question","updated_metrics","followup_question","generateFollowupQuestion","previousAnswer","questionHistory","previous_answer","question_history","utils","getCurrentQuestion","nextQuestion","length","previousQuestion","resetState","connectSocket","connect","disconnectSocket","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useInterview","_s2","context","Error","$RefreshReg$"],"sources":["C:/vishu study/new pj/New folder/frontend/src/context/InterviewContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\n// Create context\r\nconst InterviewContext = createContext();\r\n\r\n// Initial state\r\nconst initialState = {\r\n  // Session data\r\n  sessionId: null,\r\n  candidateName: '',\r\n  questions: [],\r\n  currentQuestionIndex: 0,\r\n  \r\n  // Interview status\r\n  isInterviewActive: false,\r\n  isInterviewCompleted: false,\r\n  \r\n  // Real-time metrics\r\n  metrics: {\r\n    eyeContactPercentage: 0,\r\n    confidenceScore: 0,\r\n    speechClarity: 0,\r\n    emotionScores: {},\r\n    warnings: []\r\n  },\r\n  \r\n  // Media streams\r\n  videoStream: null,\r\n  audioStream: null,\r\n  \r\n  // UI state\r\n  isLoading: false,\r\n  error: null,\r\n  \r\n  // Results\r\n  finalResults: null,\r\n  \r\n  // Socket connection\r\n  socket: null,\r\n  isConnected: false\r\n};\r\n\r\n// Action types\r\nconst ACTIONS = {\r\n  SET_SESSION_ID: 'SET_SESSION_ID',\r\n  SET_CANDIDATE_NAME: 'SET_CANDIDATE_NAME',\r\n  SET_QUESTIONS: 'SET_QUESTIONS',\r\n  SET_CURRENT_QUESTION: 'SET_CURRENT_QUESTION',\r\n  SET_INTERVIEW_ACTIVE: 'SET_INTERVIEW_ACTIVE',\r\n  SET_INTERVIEW_COMPLETED: 'SET_INTERVIEW_COMPLETED',\r\n  UPDATE_METRICS: 'UPDATE_METRICS',\r\n  SET_VIDEO_STREAM: 'SET_VIDEO_STREAM',\r\n  SET_AUDIO_STREAM: 'SET_AUDIO_STREAM',\r\n  SET_LOADING: 'SET_LOADING',\r\n  SET_ERROR: 'SET_ERROR',\r\n  SET_FINAL_RESULTS: 'SET_FINAL_RESULTS',\r\n  SET_SOCKET: 'SET_SOCKET',\r\n  SET_CONNECTED: 'SET_CONNECTED',\r\n  RESET_STATE: 'RESET_STATE',\r\n  ADD_FOLLOWUP_QUESTION: 'ADD_FOLLOWUP_QUESTION'\r\n};\r\n\r\n// Reducer function\r\nfunction interviewReducer(state, action) {\r\n  switch (action.type) {\r\n    case ACTIONS.SET_SESSION_ID:\r\n      return { ...state, sessionId: action.payload };\r\n    \r\n    case ACTIONS.SET_CANDIDATE_NAME:\r\n      return { ...state, candidateName: action.payload };\r\n    \r\n    case ACTIONS.SET_QUESTIONS:\r\n      return { ...state, questions: action.payload };\r\n    \r\n    case ACTIONS.SET_CURRENT_QUESTION:\r\n      return { ...state, currentQuestionIndex: action.payload };\r\n    \r\n    case ACTIONS.SET_INTERVIEW_ACTIVE:\r\n      return { ...state, isInterviewActive: action.payload };\r\n    \r\n    case ACTIONS.SET_INTERVIEW_COMPLETED:\r\n      return { ...state, isInterviewCompleted: action.payload };\r\n    \r\n    case ACTIONS.UPDATE_METRICS:\r\n      return { \r\n        ...state, \r\n        metrics: { ...state.metrics, ...action.payload }\r\n      };\r\n    \r\n    case ACTIONS.SET_VIDEO_STREAM:\r\n      return { ...state, videoStream: action.payload };\r\n    \r\n    case ACTIONS.SET_AUDIO_STREAM:\r\n      return { ...state, audioStream: action.payload };\r\n    \r\n    case ACTIONS.SET_LOADING:\r\n      return { ...state, isLoading: action.payload };\r\n    \r\n    case ACTIONS.SET_ERROR:\r\n      return { ...state, error: action.payload };\r\n    \r\n    case ACTIONS.SET_FINAL_RESULTS:\r\n      return { ...state, finalResults: action.payload };\r\n    \r\n    case ACTIONS.SET_SOCKET:\r\n      return { ...state, socket: action.payload };\r\n    \r\n    case ACTIONS.SET_CONNECTED:\r\n      return { ...state, isConnected: action.payload };\r\n    \r\n    case ACTIONS.RESET_STATE:\r\n      return initialState;\r\n    \r\n    case ACTIONS.ADD_FOLLOWUP_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: [...state.questions, action.payload]\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Provider component\r\nexport function InterviewProvider({ children }) {\r\n  const [state, dispatch] = useReducer(interviewReducer, initialState);\r\n\r\n  // Initialize socket connection\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:5000', {\r\n      transports: ['websocket'],\r\n      autoConnect: false\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      dispatch({ type: ACTIONS.SET_CONNECTED, payload: true });\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      dispatch({ type: ACTIONS.SET_CONNECTED, payload: false });\r\n      console.log('Disconnected from server');\r\n    });\r\n\r\n    socket.on('metrics_update', (data) => {\r\n      dispatch({ type: ACTIONS.UPDATE_METRICS, payload: data.metrics });\r\n    });\r\n\r\n    socket.on('error', (error) => {\r\n      dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n      toast.error('Connection error: ' + error.message);\r\n    });\r\n\r\n    dispatch({ type: ACTIONS.SET_SOCKET, payload: socket });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // API functions\r\n  const api = {\r\n    // Health check\r\n    checkHealth: async () => {\r\n      try {\r\n        const response = await axios.get('/api/health');\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Health check failed:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Upload resume\r\n    uploadResume: async (file) => {\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('resume', file);\r\n\r\n        const response = await axios.post('/api/upload-resume', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to upload resume: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Start interview\r\n    startInterview: async (candidateName, questions) => {\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const response = await axios.post('/api/start-interview', {\r\n          candidate_name: candidateName,\r\n          questions: questions\r\n        });\r\n\r\n        const { session_id } = response.data;\r\n        dispatch({ type: ACTIONS.SET_SESSION_ID, payload: session_id });\r\n        dispatch({ type: ACTIONS.SET_CANDIDATE_NAME, payload: candidateName });\r\n        dispatch({ type: ACTIONS.SET_QUESTIONS, payload: questions });\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n\r\n        // Join socket room\r\n        if (state.socket) {\r\n          state.socket.emit('join_session', { session_id });\r\n        }\r\n\r\n        toast.success('Interview session started!');\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to start interview: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Process video frame\r\n    processFrame: async (frameData) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/process-frame', {\r\n          session_id: state.sessionId,\r\n          frame_data: frameData\r\n        });\r\n\r\n        // Update metrics with the response data\r\n        if (response.data.success && response.data.metrics) {\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.metrics });\r\n        }\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Frame processing error:', error);\r\n        // Don't show toast for frame processing errors as they're frequent\r\n      }\r\n    },\r\n\r\n    // Process audio\r\n    processAudio: async (audioData) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/process-audio', {\r\n          session_id: state.sessionId,\r\n          audio_data: audioData\r\n        });\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Audio processing error:', error);\r\n      }\r\n    },\r\n\r\n    // End interview\r\n    endInterview: async () => {\r\n      if (!state.sessionId) return;\r\n\r\n      dispatch({ type: ACTIONS.SET_LOADING, payload: true });\r\n      try {\r\n        const response = await axios.post(`/api/end-interview/${state.sessionId}`);\r\n        \r\n        dispatch({ type: ACTIONS.SET_FINAL_RESULTS, payload: response.data.final_report });\r\n        dispatch({ type: ACTIONS.SET_INTERVIEW_COMPLETED, payload: true });\r\n        dispatch({ type: ACTIONS.SET_INTERVIEW_ACTIVE, payload: false });\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n\r\n        toast.success('Interview completed successfully!');\r\n        return response.data;\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.SET_LOADING, payload: false });\r\n        dispatch({ type: ACTIONS.SET_ERROR, payload: error.message });\r\n        toast.error('Failed to end interview: ' + error.message);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get session details\r\n    getSessionDetails: async (sessionId) => {\r\n      try {\r\n        const response = await axios.get(`/api/sessions/${sessionId}`);\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get session details:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get all sessions\r\n    getAllSessions: async () => {\r\n      try {\r\n        const response = await axios.get('/api/sessions');\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get sessions:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Get current metrics for a session\r\n    getCurrentMetrics: async (sessionId) => {\r\n      try {\r\n        const response = await axios.get(`/api/sessions/${sessionId}/metrics`);\r\n        if (response.data.success) {\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.metrics });\r\n        }\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to get current metrics:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Request metrics update via WebSocket\r\n    requestMetricsUpdate: () => {\r\n      if (state.socket && state.sessionId) {\r\n        state.socket.emit('request_metrics', { session_id: state.sessionId });\r\n      }\r\n    },\r\n\r\n    // Submit answer and get follow-up question\r\n    submitAnswer: async (questionId, answerText, currentQuestion) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/submit-answer', {\r\n          session_id: state.sessionId,\r\n          question_id: questionId,\r\n          answer_text: answerText,\r\n          current_question: currentQuestion\r\n        });\r\n\r\n        if (response.data.success) {\r\n          // Update metrics with the response\r\n          dispatch({ type: ACTIONS.UPDATE_METRICS, payload: response.data.updated_metrics });\r\n          \r\n          // Store the follow-up question\r\n          if (response.data.followup_question) {\r\n            dispatch({ \r\n              type: ACTIONS.ADD_FOLLOWUP_QUESTION, \r\n              payload: response.data.followup_question \r\n            });\r\n          }\r\n        }\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to submit answer:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Generate follow-up question\r\n    generateFollowupQuestion: async (currentQuestion, previousAnswer, questionHistory) => {\r\n      if (!state.sessionId) return;\r\n\r\n      try {\r\n        const response = await axios.post('/api/generate-followup-question', {\r\n          session_id: state.sessionId,\r\n          current_question: currentQuestion,\r\n          previous_answer: previousAnswer,\r\n          question_history: questionHistory\r\n        });\r\n\r\n        return response.data;\r\n      } catch (error) {\r\n        console.error('Failed to generate follow-up question:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Utility functions\r\n  const utils = {\r\n    // Get current question\r\n    getCurrentQuestion: () => {\r\n      return state.questions[state.currentQuestionIndex] || null;\r\n    },\r\n\r\n    // Move to next question\r\n    nextQuestion: () => {\r\n      if (state.currentQuestionIndex < state.questions.length - 1) {\r\n        dispatch({ \r\n          type: ACTIONS.SET_CURRENT_QUESTION, \r\n          payload: state.currentQuestionIndex + 1 \r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    // Move to previous question\r\n    previousQuestion: () => {\r\n      if (state.currentQuestionIndex > 0) {\r\n        dispatch({ \r\n          type: ACTIONS.SET_CURRENT_QUESTION, \r\n          payload: state.currentQuestionIndex - 1 \r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    // Reset state\r\n    resetState: () => {\r\n      dispatch({ type: ACTIONS.RESET_STATE });\r\n    },\r\n\r\n    // Connect socket\r\n    connectSocket: () => {\r\n      if (state.socket && !state.isConnected) {\r\n        state.socket.connect();\r\n      }\r\n    },\r\n\r\n    // Disconnect socket\r\n    disconnectSocket: () => {\r\n      if (state.socket && state.isConnected) {\r\n        state.socket.disconnect();\r\n      }\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    ...state,\r\n    api,\r\n    utils,\r\n    dispatch\r\n  };\r\n\r\n  return (\r\n    <InterviewContext.Provider value={value}>\r\n      {children}\r\n    </InterviewContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use the context\r\nexport function useInterview() {\r\n  const context = useContext(InterviewContext);\r\n  if (!context) {\r\n    throw new Error('useInterview must be used within an InterviewProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}