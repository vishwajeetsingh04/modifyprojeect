{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{useNavigate}from'react-router-dom';import Webcam from'react-webcam';import{motion,AnimatePresence}from'framer-motion';import{Camera,Mic,MicOff,Eye,Brain,BarChart3,AlertTriangle,CheckCircle,X,Play,Pause,SkipForward,SkipBack,Square,Volume2,VolumeX}from'lucide-react';import{useInterview}from'../context/InterviewContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InterviewRoom=()=>{var _resumeAnalysis$skill;const navigate=useNavigate();const{sessionId,candidateName,questions,currentQuestionIndex,metrics,api,utils,dispatch,isLoading,isInterviewActive,isInterviewCompleted,isConnected,socket,resumeAnalysis}=useInterview();const webcamRef=useRef(null);const mediaRecorderRef=useRef(null);const[isRecording,setIsRecording]=useState(false);const[isVideoEnabled,setIsVideoEnabled]=useState(true);const[isAudioEnabled,setIsAudioEnabled]=useState(true);const[interviewTime,setInterviewTime]=useState(0);const[isPaused,setIsPaused]=useState(false);const[showWarnings,setShowWarnings]=useState(true);const[warningMessages,setWarningMessages]=useState([]);const[isProcessing,setIsProcessing]=useState(false);const[currentAnswer,setCurrentAnswer]=useState('');const[showAnswerInput,setShowAnswerInput]=useState(false);const[followupQuestion,setFollowupQuestion]=useState(null);const[isSubmittingAnswer,setIsSubmittingAnswer]=useState(false);const[eyeContactStatus,setEyeContactStatus]=useState(null);const[eyeContactWarning,setEyeContactWarning]=useState(null);const[eyeContactTimer,setEyeContactTimer]=useState(0);const[resumeFile,setResumeFile]=useState(null);const[isAnalyzingResume,setIsAnalyzingResume]=useState(false);const[showResumeAnalysis,setShowResumeAnalysis]=useState(false);// Check if we have session data\nuseEffect(()=>{if(!sessionId||!questions.length){navigate('/setup');return;}},[sessionId,questions,navigate]);// Start interview timer\nuseEffect(()=>{if(isInterviewActive&&!isPaused){const timer=setInterval(()=>{setInterviewTime(prev=>prev+1);},1000);return()=>clearInterval(timer);}},[isInterviewActive,isPaused]);// Process video frames\nconst processFrame=useCallback(async()=>{if(webcamRef.current&&isVideoEnabled&&isInterviewActive){const imageSrc=webcamRef.current.getScreenshot();if(imageSrc){setIsProcessing(true);try{console.log('Processing frame...');// Debug log\nconst result=await api.processFrame(imageSrc);console.log('Frame processing result:',result);// Debug log\n// If frame processing doesn't update metrics automatically, fetch them\nif(result&&result.success&&!result.metrics){console.log('Fetching updated metrics...');// Debug log\nawait api.getCurrentMetrics(sessionId);}}catch(error){console.error('Frame processing failed:',error);}finally{setIsProcessing(false);}}}},[api,isVideoEnabled,isInterviewActive,sessionId]);// Process frames at regular intervals\nuseEffect(()=>{const interval=setInterval(processFrame,2000);// Process every 2 seconds for better performance\nreturn()=>clearInterval(interval);},[processFrame]);// Test face detection manually\nconst testFaceDetection=async()=>{if(webcamRef.current&&isVideoEnabled){const imageSrc=webcamRef.current.getScreenshot();if(imageSrc){console.log('Manual face detection test...');// Debug log\nsetIsProcessing(true);try{const result=await api.processFrame(imageSrc);console.log('Manual test result:',result);// Debug log\n// Force refresh metrics\nawait api.getCurrentMetrics(sessionId);}catch(error){console.error('Manual test failed:',error);}finally{setIsProcessing(false);}}}};// Submit answer and get follow-up question\nconst submitAnswer=async()=>{if(!currentAnswer.trim()||!currentQuestion)return;setIsSubmittingAnswer(true);try{const result=await api.submitAnswer(currentQuestionIndex,currentAnswer,currentQuestion.question);if(result.success){// Show follow-up question\nsetFollowupQuestion(result.followup_question);setCurrentAnswer('');setShowAnswerInput(false);// Show feedback\nif(result.feedback&&result.feedback.length>0){toast.success(\"Answer submitted! \".concat(result.feedback[0]));}else{toast.success('Answer submitted successfully!');}}}catch(error){toast.error('Failed to submit answer');console.error('Answer submission error:',error);}finally{setIsSubmittingAnswer(false);}};// Skip to next question\nconst nextQuestion=()=>{if(followupQuestion){// Add follow-up question to the questions list\nutils.nextQuestion();setFollowupQuestion(null);}else{utils.nextQuestion();}};// Monitor eye contact in real-time\nuseEffect(()=>{if(!socket||!sessionId)return;const handleEyeContactUpdate=data=>{if(data.session_id===sessionId){setEyeContactStatus(data.status);if(data.status.warning_active){setEyeContactWarning(data.status.warning_message);// Show warning toast\nif(data.status.warning_level==='high'){toast.error(data.status.warning_message,{duration:5000});}else{toast.warning(data.status.warning_message,{duration:3000});}}else{setEyeContactWarning(null);}}};const handleError=data=>{console.error('Socket error:',data.message);};socket.on('eye_contact_update',handleEyeContactUpdate);socket.on('error',handleError);// Request initial eye contact status\napi.requestEyeContactStatus();// Set up periodic eye contact status requests\nconst interval=setInterval(()=>{api.requestEyeContactStatus();},2000);// Check every 2 seconds\nreturn()=>{socket.off('eye_contact_update',handleEyeContactUpdate);socket.off('error',handleError);clearInterval(interval);};},[socket,sessionId,api]);// Update eye contact timer\nuseEffect(()=>{if(!eyeContactStatus)return;const interval=setInterval(()=>{if(!eyeContactStatus.is_looking){setEyeContactTimer(prev=>prev+1);}else{setEyeContactTimer(0);}},1000);return()=>clearInterval(interval);},[eyeContactStatus]);// Handle resume file upload\nconst handleResumeUpload=event=>{const file=event.target.files[0];if(file){setResumeFile(file);}};// Analyze resume\nconst analyzeResume=async()=>{if(!resumeFile)return;setIsAnalyzingResume(true);try{const result=await api.analyzeResume(resumeFile);if(result.success){setShowResumeAnalysis(true);toast.success('Resume analyzed successfully!');}}catch(error){toast.error('Failed to analyze resume');console.error('Resume analysis error:',error);}finally{setIsAnalyzingResume(false);}};// Start interview\nconst startInterview=()=>{dispatch({type:'SET_INTERVIEW_ACTIVE',payload:true});toast.success('Interview started!');};// End interview\nconst endInterview=async()=>{if(window.confirm('Are you sure you want to end the interview?')){try{await api.endInterview();navigate('/results');}catch(error){toast.error('Failed to end interview');}}};// Toggle video\nconst toggleVideo=()=>{setIsVideoEnabled(!isVideoEnabled);toast(isVideoEnabled?'Video disabled':'Video enabled',{icon:isVideoEnabled?'ðŸ“¹':'ðŸ“¹',style:{background:isVideoEnabled?'#ef4444':'#10b981',color:'white'}});};// Toggle audio\nconst toggleAudio=()=>{setIsAudioEnabled(!isAudioEnabled);toast(isAudioEnabled?'Audio disabled':'Audio enabled',{icon:isAudioEnabled?'ðŸŽ¤':'ðŸŽ¤',style:{background:isAudioEnabled?'#ef4444':'#10b981',color:'white'}});};// Toggle pause\nconst togglePause=()=>{setIsPaused(!isPaused);toast(isPaused?'Interview resumed':'Interview paused',{icon:isPaused?'â–¶ï¸':'â¸ï¸',style:{background:isPaused?'#10b981':'#f59e0b',color:'white'}});};// Format time\nconst formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));};// Get current question\nconst currentQuestion=utils.getCurrentQuestion();// Get performance color\nconst getPerformanceColor=score=>{if(score>=80)return'text-green-600';if(score>=60)return'text-yellow-600';return'text-red-600';};// Get performance status\nconst getPerformanceStatus=score=>{if(score>=80)return'Excellent';if(score>=60)return'Good';if(score>=40)return'Fair';return'Needs Improvement';};// Analyze metrics and generate warnings\nconst analyzeWarnings=useCallback(()=>{const warnings=[];// First priority: Check if face detection is working\nif(!metrics.face_detected){warnings.push({type:'error',message:'No face detected! Please position yourself in front of the camera.',icon:'ðŸ‘¤',priority:1});// If no face detected, don't show other warnings\nsetWarningMessages(warnings);return;}// Second priority: Check if eyes are visible (basic face detection passed)\nif(metrics.face_detected&&metrics.eyeContactPercentage===0){warnings.push({type:'error',message:'Eyes not visible! Please look directly at the camera.',icon:'ðŸ‘ï¸',priority:2});}// Third priority: Detailed analysis (only if face and eyes are detected)\nif(metrics.face_detected&&metrics.eyeContactPercentage>0){// Check eye contact quality\nif(metrics.eyeContactPercentage<30){warnings.push({type:'warning',message:'Low eye contact detected. Try to look at the camera more.',icon:'ðŸ‘ï¸',priority:3});}else if(metrics.eyeContactPercentage<50){warnings.push({type:'info',message:'Eye contact could be improved. Focus on the camera.',icon:'ðŸ‘ï¸',priority:4});}// Check confidence score\nif(metrics.confidenceScore<0.4){warnings.push({type:'warning',message:'Low confidence detected. Try to sit up straight and maintain good posture.',icon:'ðŸ’ª',priority:3});}// Check speech clarity\nif(metrics.speechClarity<0.6){warnings.push({type:'warning',message:'Speech clarity needs improvement. Speak more clearly and slowly.',icon:'ðŸ—£ï¸',priority:3});}// Check for negative emotions\nif(metrics.emotionScores){const negativeEmotions=['angry','sad','fear','disgust'];negativeEmotions.forEach(emotion=>{if(metrics.emotionScores[emotion]>0.5){warnings.push({type:'warning',message:\"Detected \".concat(emotion,\" expression. Try to maintain a positive demeanor.\"),icon:'ðŸ˜Š',priority:4});}});}}// Sort warnings by priority (1 = highest priority)\nwarnings.sort((a,b)=>a.priority-b.priority);setWarningMessages(warnings);},[metrics]);// Get face detection status\nconst getFaceDetectionStatus=()=>{if(!metrics.face_detected){return{status:'no-face',text:'No Face Detected',color:'text-red-500',bgColor:'bg-red-500/20',icon:'ðŸ‘¤'};}if(metrics.eyeContactPercentage===0){return{status:'no-eyes',text:'Eyes Not Visible',color:'text-orange-500',bgColor:'bg-orange-500/20',icon:'ðŸ‘ï¸'};}return{status:'face-detected',text:'Face Detected',color:'text-green-500',bgColor:'bg-green-500/20',icon:'âœ…'};};const faceStatus=getFaceDetectionStatus();// Update warnings when metrics change\nuseEffect(()=>{analyzeWarnings();},[analyzeWarnings]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Interview Session\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-100\",children:[\"Candidate: \",candidateName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 text-white\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"Time: \",formatTime(interviewTime)]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 status-indicator \".concat(warningMessages.length===0?'bg-green-500/20 text-green-100':warningMessages.some(w=>w.type==='error')?'bg-red-500/20 text-red-100':'bg-yellow-500/20 text-yellow-100'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full \".concat(warningMessages.length===0?'bg-green-400':warningMessages.some(w=>w.type==='error')?'bg-red-400':'bg-yellow-400')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:warningMessages.length===0?'All Good':warningMessages.some(w=>w.type==='error')?'Critical Issues':'Needs Attention'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 \".concat(faceStatus.bgColor,\" \").concat(faceStatus.status==='no-face'?'face-status-no-face':faceStatus.status==='no-eyes'?'face-status-no-eyes':'face-status-detected'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:faceStatus.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(faceStatus.color),children:faceStatus.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 \".concat(isConnected?'bg-green-500/20 text-green-100':'bg-red-500/20 text-red-100'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full \".concat(isConnected?'bg-green-400':'bg-red-400')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:isConnected?'Connected':'Disconnected'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePause,className:\"p-2 bg-white/10 backdrop-blur-sm rounded-lg text-white hover:bg-white/20 transition-colors\",children:isPaused?/*#__PURE__*/_jsx(Play,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Pause,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:endInterview,className:\"p-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(Square,{className:\"w-5 h-5\"})})]})]})]}),eyeContactWarning&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 p-4 rounded-lg shadow-lg max-w-md \".concat((eyeContactStatus===null||eyeContactStatus===void 0?void 0:eyeContactStatus.warning_level)==='high'?'bg-red-500 text-white':'bg-yellow-500 text-black'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:(eyeContactStatus===null||eyeContactStatus===void 0?void 0:eyeContactStatus.warning_level)==='high'?'CRITICAL WARNING':'WARNING'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm opacity-90\",children:eyeContactWarning}),eyeContactTimer>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs opacity-75 mt-1\",children:[\"Time without eye contact: \",eyeContactTimer,\"s\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg shadow-lg \".concat(eyeContactStatus!==null&&eyeContactStatus!==void 0&&eyeContactStatus.is_looking?'bg-green-500 text-white':'bg-red-500 text-white'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(eyeContactStatus!==null&&eyeContactStatus!==void 0&&eyeContactStatus.is_looking?'bg-green-300':'bg-red-300')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:eyeContactStatus!==null&&eyeContactStatus!==void 0&&eyeContactStatus.is_looking?'Looking at Camera':'Not Looking'})]}),eyeContactStatus&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs opacity-75 mt-1\",children:[\"Streak: \",eyeContactStatus.current_streak,\"s | Longest: \",eyeContactStatus.longest_streak,\"s\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"webcam-container\",children:[isVideoEnabled?/*#__PURE__*/_jsx(Webcam,{ref:webcamRef,audio:false,screenshotFormat:\"image/jpeg\",className:\"w-full h-96 object-cover rounded-lg\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-16 h-16 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Camera Disabled\"})]})}),!isInterviewActive&&/*#__PURE__*/_jsx(\"div\",{className:\"webcam-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"Ready to start your interview?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startInterview,className:\"btn-primary\",children:\"Start Interview\"})]})}),isInterviewActive&&showWarnings&&warningMessages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 z-10 space-y-2 max-w-sm warning-overlay\",children:warningMessages.slice(0,3).map((warning,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:\"p-3 rounded-lg backdrop-blur-sm border-l-4 shadow-lg warning-card \".concat(warning.type==='error'?'bg-red-500/90 text-white border-red-600 critical-warning':warning.type==='warning'?'bg-yellow-500/90 text-white border-yellow-600':'bg-blue-500/90 text-white border-blue-600'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:warning.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:warning.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded-full \".concat(warning.priority===1?'bg-red-600/50':warning.priority===2?'bg-orange-600/50':warning.priority===3?'bg-yellow-600/50':'bg-blue-600/50'),children:[\"Priority \",warning.priority]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-75\",children:warning.type==='error'?'Critical':warning.type==='warning'?'Important':'Info'})]})]})]})},index))}),isInterviewActive&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 \".concat(faceStatus.status==='no-face'?'bg-red-500/90 text-white':faceStatus.status==='no-eyes'?'bg-orange-500/90 text-white':'bg-green-500/90 text-white'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full \".concat(faceStatus.status==='no-face'?'bg-red-200':faceStatus.status==='no-eyes'?'bg-orange-200':'bg-green-200',\" \").concat(isProcessing?'animate-pulse':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:isProcessing?'Analyzing...':faceStatus.status==='no-face'?'No Face':faceStatus.status==='no-eyes'?'No Eyes':'Detecting'}),isProcessing&&/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 left-4 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleVideo,className:\"p-2 rounded-lg backdrop-blur-sm transition-colors \".concat(isVideoEnabled?'bg-white/20 text-white':'bg-red-500 text-white'),children:/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleAudio,className:\"p-2 rounded-lg backdrop-blur-sm transition-colors \".concat(isAudioEnabled?'bg-white/20 text-white':'bg-red-500 text-white'),children:isAudioEnabled?/*#__PURE__*/_jsx(Mic,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(MicOff,{className:\"w-5 h-5\"})})]})]}),currentQuestion&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"question-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm opacity-75\",children:[\"Question \",currentQuestionIndex+1,\" of \",questions.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs rounded-full \".concat(currentQuestion.category==='technical'?'bg-blue-500/20':currentQuestion.category==='behavioral'?'bg-green-500/20':'bg-gray-500/20'),children:currentQuestion.category}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs rounded-full \".concat(currentQuestion.difficulty==='easy'?'bg-green-500/20':currentQuestion.difficulty==='medium'?'bg-yellow-500/20':'bg-red-500/20'),children:currentQuestion.difficulty})]})]})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:currentQuestion.question}),!followupQuestion&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:showAnswerInput?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{value:currentAnswer,onChange:e=>setCurrentAnswer(e.target.value),placeholder:\"Type your answer here... (Be detailed and provide examples)\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\",rows:4,disabled:isSubmittingAnswer}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnswerInput(false),className:\"text-sm text-gray-500 hover:text-gray-700\",children:\"Hide Answer Input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:submitAnswer,disabled:!currentAnswer.trim()||isSubmittingAnswer,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",children:isSubmittingAnswer?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 mr-2\"}),\"Submit Answer\"]})})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnswerInput(true),className:\"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors\",children:\"\\uD83D\\uDCDD Click to Answer This Question\"})})}),followupQuestion&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:\"\\uD83E\\uDD16 AI Follow-up Question:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 mb-3\",children:followupQuestion.question}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-xs text-blue-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 rounded\",children:followupQuestion.category}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 rounded\",children:followupQuestion.difficulty})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>utils.previousQuestion(),disabled:currentQuestionIndex===0,className:\"flex items-center px-4 py-2 bg-white/20 rounded-lg text-white hover:bg-white/30 transition-colors disabled:opacity-50\",children:[/*#__PURE__*/_jsx(SkipBack,{className:\"w-4 h-4 mr-2\"}),\"Previous\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:nextQuestion,disabled:currentQuestionIndex===questions.length-1&&!followupQuestion,className:\"flex items-center px-4 py-2 bg-white/20 rounded-lg text-white hover:bg-white/30 transition-colors disabled:opacity-50\",children:[\"Next\",/*#__PURE__*/_jsx(SkipForward,{className:\"w-4 h-4 ml-2\"})]})]})]},currentQuestionIndex)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Brain,{className:\"w-5 h-5 mr-2\"}),\"Resume Analysis\"]}),!showResumeAnalysis?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Upload your resume for AI-powered analysis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf,.doc,.docx,.txt\",onChange:handleResumeUpload,className:\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeResume,disabled:!resumeFile||isAnalyzingResume,className:\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:isAnalyzingResume?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"}),\"Analyzing...\"]}):'Analyze Resume'})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-600\",children:\"Analysis Complete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResumeAnalysis(false),className:\"text-gray-400 hover:text-gray-600 text-sm\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),resumeAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:[resumeAnalysis.overall_score,\"/100\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-500 text-xs\",children:\"Overall Score\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 font-medium\",children:\"Skills Found:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:(_resumeAnalysis$skill=resumeAnalysis.skills)===null||_resumeAnalysis$skill===void 0?void 0:_resumeAnalysis$skill.slice(0,6).map((skill,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded\",children:skill},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 font-medium\",children:\"Experience:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 text-xs\",children:[resumeAnalysis.experience_years,\" years | \",resumeAnalysis.education_level]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResumeAnalysis(false),className:\"w-full px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm\",children:\"View Full Analysis\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-2\",children:faceStatus.icon}),\"Face Detection Status\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:testFaceDetection,className:\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors\",children:\"Test\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>api.getCurrentMetrics(sessionId),className:\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors\",children:\"Refresh\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(faceStatus.color),children:faceStatus.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Face Detected\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(metrics.face_detected?'text-green-600':'text-red-600'),children:metrics.face_detected?'Yes':'No'})]}),metrics.face_detected&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Landmarks\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:metrics.landmarks||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Eye Contact\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(metrics.eyeContactPercentage>0?'text-green-600':'text-red-600'),children:metrics.eyeContactPercentage>0?'Detected':'Not Detected'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(faceStatus.status==='face-detected'?'bg-green-600':faceStatus.status==='no-eyes'?'bg-orange-600':'bg-red-600'),style:{width:faceStatus.status==='face-detected'?'100%':faceStatus.status==='no-eyes'?'50%':'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-100 rounded text-xs\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Debug Info:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Face Detected: \",String(metrics.face_detected),/*#__PURE__*/_jsx(\"br\",{}),\"Eye Contact: \",metrics.eyeContactPercentage,\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Confidence: \",Math.round((metrics.confidenceScore||0)*100),\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Landmarks: \",metrics.landmarks||0,/*#__PURE__*/_jsx(\"br\",{}),\"Processing: \",String(isProcessing),/*#__PURE__*/_jsx(\"br\",{}),\"WebSocket: \",String(isConnected),/*#__PURE__*/_jsx(\"br\",{}),\"Session ID: \",sessionId||'None']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5 mr-2\"}),\"Real-time Metrics\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Eye Contact\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold \".concat(getPerformanceColor(metrics.eyeContactPercentage)),children:[Math.round(metrics.eyeContactPercentage),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(metrics.eyeContactPercentage,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Confidence\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold \".concat(getPerformanceColor(metrics.confidenceScore*100)),children:[Math.round(metrics.confidenceScore*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(metrics.confidenceScore*100,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Speech Clarity\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold \".concat(getPerformanceColor(metrics.speechClarity*100)),children:[Math.round(metrics.speechClarity*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(metrics.speechClarity*100,\"%\")}})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 mr-2 text-red-500\"}),\"Live Warnings\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center cursor-help\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Priority System:\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"1: Critical (No face/eyes)\"}),/*#__PURE__*/_jsx(\"div\",{children:\"2: High (Basic issues)\"}),/*#__PURE__*/_jsx(\"div\",{children:\"3: Medium (Improvements needed)\"}),/*#__PURE__*/_jsx(\"div\",{children:\"4: Low (Minor suggestions)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWarnings(!showWarnings),className:\"px-3 py-1 text-xs rounded-full transition-colors \".concat(showWarnings?'bg-green-100 text-green-700':'bg-gray-100 text-gray-700'),children:showWarnings?'ON':'OFF'})]}),warningMessages.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Warning Summary\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[warningMessages.length,\" total\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[warningMessages.some(w=>w.priority===1)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 bg-red-100 text-red-700 rounded-full\",children:[warningMessages.filter(w=>w.priority===1).length,\" Critical\"]}),warningMessages.some(w=>w.priority===2)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded-full\",children:[warningMessages.filter(w=>w.priority===2).length,\" High\"]}),warningMessages.some(w=>w.priority===3)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full\",children:[warningMessages.filter(w=>w.priority===3).length,\" Medium\"]}),warningMessages.some(w=>w.priority===4)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full\",children:[warningMessages.filter(w=>w.priority===4).length,\" Low\"]})]})]}),warningMessages.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:warningMessages.map((warning,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 p-3 rounded-lg border-l-4 \".concat(warning.priority===1?'priority-1':warning.priority===2?'priority-2':warning.priority===3?'priority-3':'priority-4'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:warning.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium \".concat(warning.type==='error'?'text-red-800':warning.type==='warning'?'text-yellow-800':'text-blue-800'),children:warning.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(warning.priority===1?'bg-red-200 text-red-800':warning.priority===2?'bg-orange-200 text-orange-800':warning.priority===3?'bg-yellow-200 text-yellow-800':'bg-blue-200 text-blue-800'),children:[\"Priority \",warning.priority]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full \".concat(warning.type==='error'?'bg-red-100 text-red-700':warning.type==='warning'?'bg-yellow-100 text-yellow-700':'bg-blue-100 text-blue-700'),children:warning.type==='error'?'Critical':warning.type==='warning'?'Important':'Info'})]})]})]},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-8 h-8 text-green-500 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No warnings detected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Keep up the good work!\"})]})]}),metrics.emotionScores&&Object.keys(metrics.emotionScores).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Brain,{className:\"w-5 h-5 mr-2\"}),\"Emotion Analysis\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.entries(metrics.emotionScores).map(_ref=>{let[emotion,score]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 capitalize\",children:emotion}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:[Math.round(score*100),\"%\"]})]},emotion);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Questions Completed\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:[currentQuestionIndex+1,\" / \",questions.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat((currentQuestionIndex+1)/questions.length*100,\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[Math.round((currentQuestionIndex+1)/questions.length*100),\"% Complete\"]})})]})]})]})]})]})});};export default InterviewRoom;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","Webcam","motion","AnimatePresence","Camera","Mic","MicOff","Eye","Brain","BarChart3","AlertTriangle","CheckCircle","X","Play","Pause","SkipForward","SkipBack","Square","Volume2","VolumeX","useInterview","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InterviewRoom","_resumeAnalysis$skill","navigate","sessionId","candidateName","questions","currentQuestionIndex","metrics","api","utils","dispatch","isLoading","isInterviewActive","isInterviewCompleted","isConnected","socket","resumeAnalysis","webcamRef","mediaRecorderRef","isRecording","setIsRecording","isVideoEnabled","setIsVideoEnabled","isAudioEnabled","setIsAudioEnabled","interviewTime","setInterviewTime","isPaused","setIsPaused","showWarnings","setShowWarnings","warningMessages","setWarningMessages","isProcessing","setIsProcessing","currentAnswer","setCurrentAnswer","showAnswerInput","setShowAnswerInput","followupQuestion","setFollowupQuestion","isSubmittingAnswer","setIsSubmittingAnswer","eyeContactStatus","setEyeContactStatus","eyeContactWarning","setEyeContactWarning","eyeContactTimer","setEyeContactTimer","resumeFile","setResumeFile","isAnalyzingResume","setIsAnalyzingResume","showResumeAnalysis","setShowResumeAnalysis","length","timer","setInterval","prev","clearInterval","processFrame","current","imageSrc","getScreenshot","console","log","result","success","getCurrentMetrics","error","interval","testFaceDetection","submitAnswer","trim","currentQuestion","question","followup_question","feedback","concat","nextQuestion","handleEyeContactUpdate","data","session_id","status","warning_active","warning_message","warning_level","duration","warning","handleError","message","on","requestEyeContactStatus","off","is_looking","handleResumeUpload","event","file","target","files","analyzeResume","startInterview","type","payload","endInterview","window","confirm","toggleVideo","icon","style","background","color","toggleAudio","togglePause","formatTime","seconds","mins","Math","floor","secs","toString","padStart","getCurrentQuestion","getPerformanceColor","score","getPerformanceStatus","analyzeWarnings","warnings","face_detected","push","priority","eyeContactPercentage","confidenceScore","speechClarity","emotionScores","negativeEmotions","forEach","emotion","sort","a","b","getFaceDetectionStatus","text","bgColor","faceStatus","className","children","some","w","onClick","div","initial","opacity","y","animate","current_streak","longest_streak","ref","audio","screenshotFormat","slice","map","index","x","exit","category","difficulty","value","onChange","e","placeholder","rows","disabled","previousQuestion","accept","overall_score","skills","skill","experience_years","education_level","landmarks","width","String","round","filter","Object","keys","entries","_ref"],"sources":["C:/vishu study/new pj/New folder/frontend/src/pages/InterviewRoom.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Webcam from 'react-webcam';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Camera, \r\n  Mic, \r\n  MicOff, \r\n  Eye, \r\n  Brain, \r\n  BarChart3, \r\n  AlertTriangle,\r\n  CheckCircle,\r\n  X,\r\n  Play,\r\n  Pause,\r\n  SkipForward,\r\n  SkipBack,\r\n  Square,\r\n  Volume2,\r\n  VolumeX\r\n} from 'lucide-react';\r\nimport { useInterview } from '../context/InterviewContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst InterviewRoom = () => {\r\n  const navigate = useNavigate();\r\n  const { \r\n    sessionId, \r\n    candidateName, \r\n    questions, \r\n    currentQuestionIndex,\r\n    metrics,\r\n    api,\r\n    utils,\r\n    dispatch,\r\n    isLoading,\r\n    isInterviewActive,\r\n    isInterviewCompleted,\r\n    isConnected,\r\n    socket,\r\n    resumeAnalysis\r\n  } = useInterview();\r\n\r\n  const webcamRef = useRef(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isVideoEnabled, setIsVideoEnabled] = useState(true);\r\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\r\n  const [interviewTime, setInterviewTime] = useState(0);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [showWarnings, setShowWarnings] = useState(true);\r\n  const [warningMessages, setWarningMessages] = useState([]);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [currentAnswer, setCurrentAnswer] = useState('');\r\n  const [showAnswerInput, setShowAnswerInput] = useState(false);\r\n  const [followupQuestion, setFollowupQuestion] = useState(null);\r\n  const [isSubmittingAnswer, setIsSubmittingAnswer] = useState(false);\r\n  const [eyeContactStatus, setEyeContactStatus] = useState(null);\r\n  const [eyeContactWarning, setEyeContactWarning] = useState(null);\r\n  const [eyeContactTimer, setEyeContactTimer] = useState(0);\r\n  const [resumeFile, setResumeFile] = useState(null);\r\n  const [isAnalyzingResume, setIsAnalyzingResume] = useState(false);\r\n  const [showResumeAnalysis, setShowResumeAnalysis] = useState(false);\r\n\r\n  // Check if we have session data\r\n  useEffect(() => {\r\n    if (!sessionId || !questions.length) {\r\n      navigate('/setup');\r\n      return;\r\n    }\r\n  }, [sessionId, questions, navigate]);\r\n\r\n  // Start interview timer\r\n  useEffect(() => {\r\n    if (isInterviewActive && !isPaused) {\r\n      const timer = setInterval(() => {\r\n        setInterviewTime(prev => prev + 1);\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [isInterviewActive, isPaused]);\r\n\r\n  // Process video frames\r\n  const processFrame = useCallback(async () => {\r\n    if (webcamRef.current && isVideoEnabled && isInterviewActive) {\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (imageSrc) {\r\n        setIsProcessing(true);\r\n        try {\r\n          console.log('Processing frame...'); // Debug log\r\n          const result = await api.processFrame(imageSrc);\r\n          console.log('Frame processing result:', result); // Debug log\r\n          \r\n          // If frame processing doesn't update metrics automatically, fetch them\r\n          if (result && result.success && !result.metrics) {\r\n            console.log('Fetching updated metrics...'); // Debug log\r\n            await api.getCurrentMetrics(sessionId);\r\n          }\r\n        } catch (error) {\r\n          console.error('Frame processing failed:', error);\r\n        } finally {\r\n          setIsProcessing(false);\r\n        }\r\n      }\r\n    }\r\n  }, [api, isVideoEnabled, isInterviewActive, sessionId]);\r\n\r\n  // Process frames at regular intervals\r\n  useEffect(() => {\r\n    const interval = setInterval(processFrame, 2000); // Process every 2 seconds for better performance\r\n    return () => clearInterval(interval);\r\n  }, [processFrame]);\r\n\r\n  // Test face detection manually\r\n  const testFaceDetection = async () => {\r\n    if (webcamRef.current && isVideoEnabled) {\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n      if (imageSrc) {\r\n        console.log('Manual face detection test...'); // Debug log\r\n        setIsProcessing(true);\r\n        try {\r\n          const result = await api.processFrame(imageSrc);\r\n          console.log('Manual test result:', result); // Debug log\r\n          \r\n          // Force refresh metrics\r\n          await api.getCurrentMetrics(sessionId);\r\n        } catch (error) {\r\n          console.error('Manual test failed:', error);\r\n        } finally {\r\n          setIsProcessing(false);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Submit answer and get follow-up question\r\n  const submitAnswer = async () => {\r\n    if (!currentAnswer.trim() || !currentQuestion) return;\r\n\r\n    setIsSubmittingAnswer(true);\r\n    try {\r\n      const result = await api.submitAnswer(\r\n        currentQuestionIndex,\r\n        currentAnswer,\r\n        currentQuestion.question\r\n      );\r\n\r\n      if (result.success) {\r\n        // Show follow-up question\r\n        setFollowupQuestion(result.followup_question);\r\n        setCurrentAnswer('');\r\n        setShowAnswerInput(false);\r\n        \r\n        // Show feedback\r\n        if (result.feedback && result.feedback.length > 0) {\r\n          toast.success(`Answer submitted! ${result.feedback[0]}`);\r\n        } else {\r\n          toast.success('Answer submitted successfully!');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to submit answer');\r\n      console.error('Answer submission error:', error);\r\n    } finally {\r\n      setIsSubmittingAnswer(false);\r\n    }\r\n  };\r\n\r\n  // Skip to next question\r\n  const nextQuestion = () => {\r\n    if (followupQuestion) {\r\n      // Add follow-up question to the questions list\r\n      utils.nextQuestion();\r\n      setFollowupQuestion(null);\r\n    } else {\r\n      utils.nextQuestion();\r\n    }\r\n  };\r\n\r\n  // Monitor eye contact in real-time\r\n  useEffect(() => {\r\n    if (!socket || !sessionId) return;\r\n\r\n    const handleEyeContactUpdate = (data) => {\r\n      if (data.session_id === sessionId) {\r\n        setEyeContactStatus(data.status);\r\n        \r\n        if (data.status.warning_active) {\r\n          setEyeContactWarning(data.status.warning_message);\r\n          // Show warning toast\r\n          if (data.status.warning_level === 'high') {\r\n            toast.error(data.status.warning_message, { duration: 5000 });\r\n          } else {\r\n            toast.warning(data.status.warning_message, { duration: 3000 });\r\n          }\r\n        } else {\r\n          setEyeContactWarning(null);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleError = (data) => {\r\n      console.error('Socket error:', data.message);\r\n    };\r\n\r\n    socket.on('eye_contact_update', handleEyeContactUpdate);\r\n    socket.on('error', handleError);\r\n\r\n    // Request initial eye contact status\r\n    api.requestEyeContactStatus();\r\n\r\n    // Set up periodic eye contact status requests\r\n    const interval = setInterval(() => {\r\n      api.requestEyeContactStatus();\r\n    }, 2000); // Check every 2 seconds\r\n\r\n    return () => {\r\n      socket.off('eye_contact_update', handleEyeContactUpdate);\r\n      socket.off('error', handleError);\r\n      clearInterval(interval);\r\n    };\r\n  }, [socket, sessionId, api]);\r\n\r\n  // Update eye contact timer\r\n  useEffect(() => {\r\n    if (!eyeContactStatus) return;\r\n\r\n    const interval = setInterval(() => {\r\n      if (!eyeContactStatus.is_looking) {\r\n        setEyeContactTimer(prev => prev + 1);\r\n      } else {\r\n        setEyeContactTimer(0);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [eyeContactStatus]);\r\n\r\n  // Handle resume file upload\r\n  const handleResumeUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setResumeFile(file);\r\n    }\r\n  };\r\n\r\n  // Analyze resume\r\n  const analyzeResume = async () => {\r\n    if (!resumeFile) return;\r\n\r\n    setIsAnalyzingResume(true);\r\n    try {\r\n      const result = await api.analyzeResume(resumeFile);\r\n      if (result.success) {\r\n        setShowResumeAnalysis(true);\r\n        toast.success('Resume analyzed successfully!');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to analyze resume');\r\n      console.error('Resume analysis error:', error);\r\n    } finally {\r\n      setIsAnalyzingResume(false);\r\n    }\r\n  };\r\n\r\n  // Start interview\r\n  const startInterview = () => {\r\n    dispatch({ type: 'SET_INTERVIEW_ACTIVE', payload: true });\r\n    toast.success('Interview started!');\r\n  };\r\n\r\n  // End interview\r\n  const endInterview = async () => {\r\n    if (window.confirm('Are you sure you want to end the interview?')) {\r\n      try {\r\n        await api.endInterview();\r\n        navigate('/results');\r\n      } catch (error) {\r\n        toast.error('Failed to end interview');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Toggle video\r\n  const toggleVideo = () => {\r\n    setIsVideoEnabled(!isVideoEnabled);\r\n    toast(isVideoEnabled ? 'Video disabled' : 'Video enabled', {\r\n      icon: isVideoEnabled ? 'ðŸ“¹' : 'ðŸ“¹',\r\n      style: {\r\n        background: isVideoEnabled ? '#ef4444' : '#10b981',\r\n        color: 'white',\r\n      },\r\n    });\r\n  };\r\n\r\n  // Toggle audio\r\n  const toggleAudio = () => {\r\n    setIsAudioEnabled(!isAudioEnabled);\r\n    toast(isAudioEnabled ? 'Audio disabled' : 'Audio enabled', {\r\n      icon: isAudioEnabled ? 'ðŸŽ¤' : 'ðŸŽ¤',\r\n      style: {\r\n        background: isAudioEnabled ? '#ef4444' : '#10b981',\r\n        color: 'white',\r\n      },\r\n    });\r\n  };\r\n\r\n  // Toggle pause\r\n  const togglePause = () => {\r\n    setIsPaused(!isPaused);\r\n    toast(isPaused ? 'Interview resumed' : 'Interview paused', {\r\n      icon: isPaused ? 'â–¶ï¸' : 'â¸ï¸',\r\n      style: {\r\n        background: isPaused ? '#10b981' : '#f59e0b',\r\n        color: 'white',\r\n      },\r\n    });\r\n  };\r\n\r\n  // Format time\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Get current question\r\n  const currentQuestion = utils.getCurrentQuestion();\r\n\r\n  // Get performance color\r\n  const getPerformanceColor = (score) => {\r\n    if (score >= 80) return 'text-green-600';\r\n    if (score >= 60) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  // Get performance status\r\n  const getPerformanceStatus = (score) => {\r\n    if (score >= 80) return 'Excellent';\r\n    if (score >= 60) return 'Good';\r\n    if (score >= 40) return 'Fair';\r\n    return 'Needs Improvement';\r\n  };\r\n\r\n  // Analyze metrics and generate warnings\r\n  const analyzeWarnings = useCallback(() => {\r\n    const warnings = [];\r\n    \r\n    // First priority: Check if face detection is working\r\n    if (!metrics.face_detected) {\r\n      warnings.push({\r\n        type: 'error',\r\n        message: 'No face detected! Please position yourself in front of the camera.',\r\n        icon: 'ðŸ‘¤',\r\n        priority: 1\r\n      });\r\n      \r\n      // If no face detected, don't show other warnings\r\n      setWarningMessages(warnings);\r\n      return;\r\n    }\r\n    \r\n    // Second priority: Check if eyes are visible (basic face detection passed)\r\n    if (metrics.face_detected && metrics.eyeContactPercentage === 0) {\r\n      warnings.push({\r\n        type: 'error',\r\n        message: 'Eyes not visible! Please look directly at the camera.',\r\n        icon: 'ðŸ‘ï¸',\r\n        priority: 2\r\n      });\r\n    }\r\n    \r\n    // Third priority: Detailed analysis (only if face and eyes are detected)\r\n    if (metrics.face_detected && metrics.eyeContactPercentage > 0) {\r\n      // Check eye contact quality\r\n      if (metrics.eyeContactPercentage < 30) {\r\n        warnings.push({\r\n          type: 'warning',\r\n          message: 'Low eye contact detected. Try to look at the camera more.',\r\n          icon: 'ðŸ‘ï¸',\r\n          priority: 3\r\n        });\r\n      } else if (metrics.eyeContactPercentage < 50) {\r\n        warnings.push({\r\n          type: 'info',\r\n          message: 'Eye contact could be improved. Focus on the camera.',\r\n          icon: 'ðŸ‘ï¸',\r\n          priority: 4\r\n        });\r\n      }\r\n      \r\n      // Check confidence score\r\n      if (metrics.confidenceScore < 0.4) {\r\n        warnings.push({\r\n          type: 'warning',\r\n          message: 'Low confidence detected. Try to sit up straight and maintain good posture.',\r\n          icon: 'ðŸ’ª',\r\n          priority: 3\r\n        });\r\n      }\r\n      \r\n      // Check speech clarity\r\n      if (metrics.speechClarity < 0.6) {\r\n        warnings.push({\r\n          type: 'warning',\r\n          message: 'Speech clarity needs improvement. Speak more clearly and slowly.',\r\n          icon: 'ðŸ—£ï¸',\r\n          priority: 3\r\n        });\r\n      }\r\n      \r\n      // Check for negative emotions\r\n      if (metrics.emotionScores) {\r\n        const negativeEmotions = ['angry', 'sad', 'fear', 'disgust'];\r\n        negativeEmotions.forEach(emotion => {\r\n          if (metrics.emotionScores[emotion] > 0.5) {\r\n            warnings.push({\r\n              type: 'warning',\r\n              message: `Detected ${emotion} expression. Try to maintain a positive demeanor.`,\r\n              icon: 'ðŸ˜Š',\r\n              priority: 4\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n    \r\n    // Sort warnings by priority (1 = highest priority)\r\n    warnings.sort((a, b) => a.priority - b.priority);\r\n    setWarningMessages(warnings);\r\n  }, [metrics]);\r\n\r\n  // Get face detection status\r\n  const getFaceDetectionStatus = () => {\r\n    if (!metrics.face_detected) {\r\n      return {\r\n        status: 'no-face',\r\n        text: 'No Face Detected',\r\n        color: 'text-red-500',\r\n        bgColor: 'bg-red-500/20',\r\n        icon: 'ðŸ‘¤'\r\n      };\r\n    }\r\n    \r\n    if (metrics.eyeContactPercentage === 0) {\r\n      return {\r\n        status: 'no-eyes',\r\n        text: 'Eyes Not Visible',\r\n        color: 'text-orange-500',\r\n        bgColor: 'bg-orange-500/20',\r\n        icon: 'ðŸ‘ï¸'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      status: 'face-detected',\r\n      text: 'Face Detected',\r\n      color: 'text-green-500',\r\n      bgColor: 'bg-green-500/20',\r\n      icon: 'âœ…'\r\n    };\r\n  };\r\n\r\n  const faceStatus = getFaceDetectionStatus();\r\n\r\n  // Update warnings when metrics change\r\n  useEffect(() => {\r\n    analyzeWarnings();\r\n  }, [analyzeWarnings]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700\">\r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"text-white\">\r\n            <h1 className=\"text-2xl font-bold\">Interview Session</h1>\r\n            <p className=\"text-blue-100\">Candidate: {candidateName}</p>\r\n          </div>\r\n          \r\n                     <div className=\"flex items-center space-x-4\">\r\n             <div className=\"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 text-white\">\r\n               <span className=\"text-sm\">Time: {formatTime(interviewTime)}</span>\r\n             </div>\r\n             \r\n             {/* Interview Status Indicator */}\r\n             <div className={`px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 status-indicator ${\r\n               warningMessages.length === 0 \r\n                 ? 'bg-green-500/20 text-green-100' \r\n                 : warningMessages.some(w => w.type === 'error')\r\n                 ? 'bg-red-500/20 text-red-100'\r\n                 : 'bg-yellow-500/20 text-yellow-100'\r\n             }`}>\r\n               <div className={`w-2 h-2 rounded-full ${\r\n                 warningMessages.length === 0 \r\n                   ? 'bg-green-400' \r\n                   : warningMessages.some(w => w.type === 'error')\r\n                   ? 'bg-red-400'\r\n                   : 'bg-yellow-400'\r\n               }`}></div>\r\n               <span className=\"text-sm font-medium\">\r\n                 {warningMessages.length === 0 \r\n                   ? 'All Good' \r\n                   : warningMessages.some(w => w.type === 'error')\r\n                   ? 'Critical Issues'\r\n                   : 'Needs Attention'\r\n                 }\r\n               </span>\r\n             </div>\r\n             \r\n             {/* Face Detection Status Indicator */}\r\n             <div className={`px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 ${faceStatus.bgColor} ${\r\n                faceStatus.status === 'no-face' ? 'face-status-no-face' :\r\n                faceStatus.status === 'no-eyes' ? 'face-status-no-eyes' :\r\n                'face-status-detected'\r\n              }`}>\r\n                <span className=\"text-lg\">{faceStatus.icon}</span>\r\n                <span className={`text-sm font-medium ${faceStatus.color}`}>\r\n                  {faceStatus.text}\r\n                </span>\r\n              </div>\r\n              \r\n              {/* Connection Status Indicator */}\r\n              <div className={`px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 ${\r\n                isConnected ? 'bg-green-500/20 text-green-100' : 'bg-red-500/20 text-red-100'\r\n              }`}>\r\n                <div className={`w-2 h-2 rounded-full ${\r\n                  isConnected ? 'bg-green-400' : 'bg-red-400'\r\n                }`}></div>\r\n                <span className=\"text-sm font-medium\">\r\n                  {isConnected ? 'Connected' : 'Disconnected'}\r\n                </span>\r\n              </div>\r\n            \r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={togglePause}\r\n                className=\"p-2 bg-white/10 backdrop-blur-sm rounded-lg text-white hover:bg-white/20 transition-colors\"\r\n              >\r\n                {isPaused ? <Play className=\"w-5 h-5\" /> : <Pause className=\"w-5 h-5\" />}\r\n              </button>\r\n              \r\n              <button\r\n                onClick={endInterview}\r\n                className=\"p-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors\"\r\n              >\r\n                <Square className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Eye Contact Warning Display */}\r\n        {eyeContactWarning && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 p-4 rounded-lg shadow-lg max-w-md ${\r\n              eyeContactStatus?.warning_level === 'high' \r\n                ? 'bg-red-500 text-white' \r\n                : 'bg-yellow-500 text-black'\r\n            }`}\r\n          >\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"text-2xl\">âš ï¸</div>\r\n              <div>\r\n                <div className=\"font-semibold\">\r\n                  {eyeContactStatus?.warning_level === 'high' ? 'CRITICAL WARNING' : 'WARNING'}\r\n                </div>\r\n                <div className=\"text-sm opacity-90\">{eyeContactWarning}</div>\r\n                {eyeContactTimer > 0 && (\r\n                  <div className=\"text-xs opacity-75 mt-1\">\r\n                    Time without eye contact: {eyeContactTimer}s\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Eye Contact Status Indicator */}\r\n        <div className=\"fixed top-4 right-4 z-40\">\r\n          <div className={`p-3 rounded-lg shadow-lg ${\r\n            eyeContactStatus?.is_looking \r\n              ? 'bg-green-500 text-white' \r\n              : 'bg-red-500 text-white'\r\n          }`}>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className={`w-3 h-3 rounded-full ${\r\n                eyeContactStatus?.is_looking ? 'bg-green-300' : 'bg-red-300'\r\n              }`}></div>\r\n              <div className=\"text-sm font-medium\">\r\n                {eyeContactStatus?.is_looking ? 'Looking at Camera' : 'Not Looking'}\r\n              </div>\r\n            </div>\r\n            {eyeContactStatus && (\r\n              <div className=\"text-xs opacity-75 mt-1\">\r\n                Streak: {eyeContactStatus.current_streak}s | \r\n                Longest: {eyeContactStatus.longest_streak}s\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {/* Main Interview Area */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n                         {/* Webcam */}\r\n             <div className=\"relative\">\r\n               <div className=\"webcam-container\">\r\n                 {isVideoEnabled ? (\r\n                   <Webcam\r\n                     ref={webcamRef}\r\n                     audio={false}\r\n                     screenshotFormat=\"image/jpeg\"\r\n                     className=\"w-full h-96 object-cover rounded-lg\"\r\n                   />\r\n                 ) : (\r\n                   <div className=\"w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center\">\r\n                     <div className=\"text-center text-white\">\r\n                       <Camera className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\r\n                       <p>Camera Disabled</p>\r\n                     </div>\r\n                   </div>\r\n                 )}\r\n                 \r\n                 {!isInterviewActive && (\r\n                   <div className=\"webcam-overlay\">\r\n                     <div className=\"text-center\">\r\n                       <p className=\"mb-4\">Ready to start your interview?</p>\r\n                       <button\r\n                         onClick={startInterview}\r\n                         className=\"btn-primary\"\r\n                       >\r\n                         Start Interview\r\n                       </button>\r\n                     </div>\r\n                   </div>\r\n                 )}\r\n\r\n                 {/* Real-time Warnings Overlay */}\r\n                 {isInterviewActive && showWarnings && warningMessages.length > 0 && (\r\n                   <div className=\"absolute top-4 right-4 z-10 space-y-2 max-w-sm warning-overlay\">\r\n                     {warningMessages.slice(0, 3).map((warning, index) => (\r\n                       <motion.div\r\n                         key={index}\r\n                         initial={{ opacity: 0, x: 100 }}\r\n                         animate={{ opacity: 1, x: 0 }}\r\n                         exit={{ opacity: 0, x: 100 }}\r\n                         className={`p-3 rounded-lg backdrop-blur-sm border-l-4 shadow-lg warning-card ${\r\n                           warning.type === 'error' \r\n                             ? 'bg-red-500/90 text-white border-red-600 critical-warning' \r\n                             : warning.type === 'warning'\r\n                             ? 'bg-yellow-500/90 text-white border-yellow-600'\r\n                             : 'bg-blue-500/90 text-white border-blue-600'\r\n                         }`}\r\n                       >\r\n                         <div className=\"flex items-start space-x-2\">\r\n                           <span className=\"text-lg\">{warning.icon}</span>\r\n                           <div className=\"flex-1\">\r\n                             <p className=\"text-sm font-medium\">{warning.message}</p>\r\n                             <div className=\"flex items-center space-x-2 mt-1\">\r\n                               <span className={`text-xs px-2 py-1 rounded-full ${\r\n                                 warning.priority === 1 ? 'bg-red-600/50' :\r\n                                 warning.priority === 2 ? 'bg-orange-600/50' :\r\n                                 warning.priority === 3 ? 'bg-yellow-600/50' :\r\n                                 'bg-blue-600/50'\r\n                               }`}>\r\n                                 Priority {warning.priority}\r\n                               </span>\r\n                               <span className=\"text-xs opacity-75\">\r\n                                 {warning.type === 'error' ? 'Critical' : \r\n                                  warning.type === 'warning' ? 'Important' : 'Info'}\r\n                               </span>\r\n                             </div>\r\n                           </div>\r\n                         </div>\r\n                       </motion.div>\r\n                     ))}\r\n                   </div>\r\n                 )}\r\n                 \r\n                 {/* Face Detection Indicator */}\r\n                 {isInterviewActive && (\r\n                   <div className=\"absolute top-4 left-4 z-10\">\r\n                     <div className={`px-3 py-2 rounded-lg backdrop-blur-sm flex items-center space-x-2 ${\r\n                       faceStatus.status === 'no-face' ? 'bg-red-500/90 text-white' :\r\n                       faceStatus.status === 'no-eyes' ? 'bg-orange-500/90 text-white' :\r\n                       'bg-green-500/90 text-white'\r\n                     }`}>\r\n                       <div className={`w-2 h-2 rounded-full ${\r\n                         faceStatus.status === 'no-face' ? 'bg-red-200' :\r\n                         faceStatus.status === 'no-eyes' ? 'bg-orange-200' :\r\n                         'bg-green-200'\r\n                       } ${isProcessing ? 'animate-pulse' : ''}`}></div>\r\n                       <span className=\"text-sm font-medium\">\r\n                         {isProcessing ? 'Analyzing...' :\r\n                          faceStatus.status === 'no-face' ? 'No Face' :\r\n                          faceStatus.status === 'no-eyes' ? 'No Eyes' :\r\n                          'Detecting'}\r\n                       </span>\r\n                       {isProcessing && (\r\n                         <div className=\"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                       )}\r\n                     </div>\r\n                   </div>\r\n                 )}\r\n               </div>\r\n\r\n              {/* Camera Controls */}\r\n              <div className=\"absolute bottom-4 left-4 flex space-x-2\">\r\n                <button\r\n                  onClick={toggleVideo}\r\n                  className={`p-2 rounded-lg backdrop-blur-sm transition-colors ${\r\n                    isVideoEnabled \r\n                      ? 'bg-white/20 text-white' \r\n                      : 'bg-red-500 text-white'\r\n                  }`}\r\n                >\r\n                  <Camera className=\"w-5 h-5\" />\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={toggleAudio}\r\n                  className={`p-2 rounded-lg backdrop-blur-sm transition-colors ${\r\n                    isAudioEnabled \r\n                      ? 'bg-white/20 text-white' \r\n                      : 'bg-red-500 text-white'\r\n                  }`}\r\n                >\r\n                  {isAudioEnabled ? <Mic className=\"w-5 h-5\" /> : <MicOff className=\"w-5 h-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Current Question */}\r\n            {currentQuestion && (\r\n              <motion.div\r\n                key={currentQuestionIndex}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"question-card\"\r\n              >\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                  <div>\r\n                    <span className=\"text-sm opacity-75\">Question {currentQuestionIndex + 1} of {questions.length}</span>\r\n                    <div className=\"flex items-center space-x-2 mt-1\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${\r\n                        currentQuestion.category === 'technical' ? 'bg-blue-500/20' :\r\n                        currentQuestion.category === 'behavioral' ? 'bg-green-500/20' :\r\n                        'bg-gray-500/20'\r\n                      }`}>\r\n                        {currentQuestion.category}\r\n                      </span>\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${\r\n                        currentQuestion.difficulty === 'easy' ? 'bg-green-500/20' :\r\n                        currentQuestion.difficulty === 'medium' ? 'bg-yellow-500/20' :\r\n                        'bg-red-500/20'\r\n                      }`}>\r\n                        {currentQuestion.difficulty}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <h3 className=\"text-xl font-semibold mb-4\">\r\n                  {currentQuestion.question}\r\n                </h3>\r\n\r\n                {/* Answer Input */}\r\n                {!followupQuestion && (\r\n                  <div className=\"mb-4\">\r\n                    {showAnswerInput ? (\r\n                      <>\r\n                        <textarea\r\n                          value={currentAnswer}\r\n                          onChange={(e) => setCurrentAnswer(e.target.value)}\r\n                          placeholder=\"Type your answer here... (Be detailed and provide examples)\"\r\n                          className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                          rows={4}\r\n                          disabled={isSubmittingAnswer}\r\n                        />\r\n                        <div className=\"flex justify-between items-center mt-2\">\r\n                          <button\r\n                            onClick={() => setShowAnswerInput(false)}\r\n                            className=\"text-sm text-gray-500 hover:text-gray-700\"\r\n                          >\r\n                            Hide Answer Input\r\n                          </button>\r\n                          <button\r\n                            onClick={submitAnswer}\r\n                            disabled={!currentAnswer.trim() || isSubmittingAnswer}\r\n                            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\r\n                          >\r\n                            {isSubmittingAnswer ? (\r\n                              <>\r\n                                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                Submitting...\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                                Submit Answer\r\n                              </>\r\n                            )}\r\n                          </button>\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"text-center py-4\">\r\n                        <button\r\n                          onClick={() => setShowAnswerInput(true)}\r\n                          className=\"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors\"\r\n                        >\r\n                          ðŸ“ Click to Answer This Question\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Follow-up Question */}\r\n                {followupQuestion && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\"\r\n                  >\r\n                    <h4 className=\"font-semibold text-blue-900 mb-2\">ðŸ¤– AI Follow-up Question:</h4>\r\n                    <p className=\"text-blue-800 mb-3\">{followupQuestion.question}</p>\r\n                    <div className=\"flex items-center space-x-2 text-xs text-blue-600\">\r\n                      <span className=\"px-2 py-1 bg-blue-100 rounded\">\r\n                        {followupQuestion.category}\r\n                      </span>\r\n                      <span className=\"px-2 py-1 bg-blue-100 rounded\">\r\n                        {followupQuestion.difficulty}\r\n                      </span>\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n                \r\n                <div className=\"flex justify-between\">\r\n                  <button\r\n                    onClick={() => utils.previousQuestion()}\r\n                    disabled={currentQuestionIndex === 0}\r\n                    className=\"flex items-center px-4 py-2 bg-white/20 rounded-lg text-white hover:bg-white/30 transition-colors disabled:opacity-50\"\r\n                  >\r\n                    <SkipBack className=\"w-4 h-4 mr-2\" />\r\n                    Previous\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={nextQuestion}\r\n                    disabled={currentQuestionIndex === questions.length - 1 && !followupQuestion}\r\n                    className=\"flex items-center px-4 py-2 bg-white/20 rounded-lg text-white hover:bg-white/30 transition-colors disabled:opacity-50\"\r\n                  >\r\n                    Next\r\n                    <SkipForward className=\"w-4 h-4 ml-2\" />\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Metrics Panel */}\r\n          <div className=\"space-y-6\">\r\n            {/* Resume Analysis Section */}\r\n            <div className=\"metrics-card p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <Brain className=\"w-5 h-5 mr-2\" />\r\n                Resume Analysis\r\n              </h3>\r\n              \r\n              {!showResumeAnalysis ? (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    Upload your resume for AI-powered analysis\r\n                  </div>\r\n                  \r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".pdf,.doc,.docx,.txt\"\r\n                    onChange={handleResumeUpload}\r\n                    className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\r\n                  />\r\n                  \r\n                  <button\r\n                    onClick={analyzeResume}\r\n                    disabled={!resumeFile || isAnalyzingResume}\r\n                    className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n                  >\r\n                    {isAnalyzingResume ? (\r\n                      <>\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                        Analyzing...\r\n                      </>\r\n                    ) : (\r\n                      'Analyze Resume'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium text-green-600\">Analysis Complete</span>\r\n                    <button\r\n                      onClick={() => setShowResumeAnalysis(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600 text-sm\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {resumeAnalysis && (\r\n                    <div className=\"space-y-3 text-sm\">\r\n                      <div className=\"bg-blue-50 rounded-lg p-3\">\r\n                        <div className=\"text-center mb-2\">\r\n                          <div className=\"text-2xl font-bold text-blue-600\">\r\n                            {resumeAnalysis.overall_score}/100\r\n                          </div>\r\n                          <div className=\"text-blue-500 text-xs\">Overall Score</div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"text-gray-700 font-medium\">Skills Found:</div>\r\n                        <div className=\"flex flex-wrap gap-1\">\r\n                          {resumeAnalysis.skills?.slice(0, 6).map((skill, index) => (\r\n                            <span key={index} className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded\">\r\n                              {skill}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"text-gray-700 font-medium\">Experience:</div>\r\n                        <div className=\"text-gray-600 text-xs\">\r\n                          {resumeAnalysis.experience_years} years | {resumeAnalysis.education_level}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <button\r\n                        onClick={() => setShowResumeAnalysis(false)}\r\n                        className=\"w-full px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm\"\r\n                      >\r\n                        View Full Analysis\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Face Detection Status */}\r\n            <div className=\"metrics-card p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                  <span className=\"text-2xl mr-2\">{faceStatus.icon}</span>\r\n                  Face Detection Status\r\n                </h3>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={testFaceDetection}\r\n                    className=\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors\"\r\n                  >\r\n                    Test\r\n                  </button>\r\n                  <button\r\n                    onClick={() => api.getCurrentMetrics(sessionId)}\r\n                    className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors\"\r\n                  >\r\n                    Refresh\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-gray-700\">Status</span>\r\n                  <span className={`text-sm font-semibold ${faceStatus.color}`}>\r\n                    {faceStatus.text}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-gray-700\">Face Detected</span>\r\n                  <span className={`text-sm font-semibold ${\r\n                    metrics.face_detected ? 'text-green-600' : 'text-red-600'\r\n                  }`}>\r\n                    {metrics.face_detected ? 'Yes' : 'No'}\r\n                  </span>\r\n                </div>\r\n                \r\n                {metrics.face_detected && (\r\n                  <>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm font-medium text-gray-700\">Landmarks</span>\r\n                      <span className=\"text-sm font-semibold text-gray-900\">\r\n                        {metrics.landmarks || 0}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm font-medium text-gray-700\">Eye Contact</span>\r\n                      <span className={`text-sm font-semibold ${\r\n                        metrics.eyeContactPercentage > 0 ? 'text-green-600' : 'text-red-600'\r\n                      }`}>\r\n                        {metrics.eyeContactPercentage > 0 ? 'Detected' : 'Not Detected'}\r\n                      </span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                \r\n                <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n                  <div \r\n                    className={`h-2 rounded-full transition-all duration-300 ${\r\n                      faceStatus.status === 'face-detected' ? 'bg-green-600' :\r\n                      faceStatus.status === 'no-eyes' ? 'bg-orange-600' :\r\n                      'bg-red-600'\r\n                    }`}\r\n                    style={{ \r\n                      width: faceStatus.status === 'face-detected' ? '100%' :\r\n                             faceStatus.status === 'no-eyes' ? '50%' : '0%'\r\n                    }}\r\n                  />\r\n                </div>\r\n                \r\n                {/* Debug Information */}\r\n                <div className=\"mt-4 p-3 bg-gray-100 rounded text-xs\">\r\n                  <strong>Debug Info:</strong><br/>\r\n                  Face Detected: {String(metrics.face_detected)}<br/>\r\n                  Eye Contact: {metrics.eyeContactPercentage}%<br/>\r\n                  Confidence: {Math.round((metrics.confidenceScore || 0) * 100)}%<br/>\r\n                  Landmarks: {metrics.landmarks || 0}<br/>\r\n                  Processing: {String(isProcessing)}<br/>\r\n                  WebSocket: {String(isConnected)}<br/>\r\n                  Session ID: {sessionId || 'None'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Real-time Metrics */}\r\n            <div className=\"metrics-card p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                <BarChart3 className=\"w-5 h-5 mr-2\" />\r\n                Real-time Metrics\r\n              </h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {/* Eye Contact */}\r\n                <div>\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Eye Contact</span>\r\n                    <span className={`text-sm font-semibold ${getPerformanceColor(metrics.eyeContactPercentage)}`}>\r\n                      {Math.round(metrics.eyeContactPercentage)}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${metrics.eyeContactPercentage}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Confidence Score */}\r\n                <div>\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Confidence</span>\r\n                    <span className={`text-sm font-semibold ${getPerformanceColor(metrics.confidenceScore * 100)}`}>\r\n                      {Math.round(metrics.confidenceScore * 100)}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${metrics.confidenceScore * 100}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Speech Clarity */}\r\n                <div>\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Speech Clarity</span>\r\n                    <span className={`text-sm font-semibold ${getPerformanceColor(metrics.speechClarity * 100)}`}>\r\n                      {Math.round(metrics.speechClarity * 100)}%\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-purple-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${metrics.speechClarity * 100}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n                         {/* Warnings */}\r\n             <div className=\"metrics-card p-6\">\r\n               <div className=\"flex items-center justify-between mb-4\">\r\n                 <div className=\"flex items-center space-x-2\">\r\n                   <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                     <AlertTriangle className=\"w-5 h-5 mr-2 text-red-500\" />\r\n                     Live Warnings\r\n                   </h3>\r\n                   <div className=\"group relative\">\r\n                     <div className=\"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center cursor-help\">\r\n                       <span className=\"text-xs text-gray-600\">?</span>\r\n                     </div>\r\n                     <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-20\">\r\n                       <div className=\"mb-1\">\r\n                         <span className=\"font-semibold\">Priority System:</span>\r\n                       </div>\r\n                       <div>1: Critical (No face/eyes)</div>\r\n                       <div>2: High (Basic issues)</div>\r\n                       <div>3: Medium (Improvements needed)</div>\r\n                       <div>4: Low (Minor suggestions)</div>\r\n                       <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\r\n                     </div>\r\n                   </div>\r\n                 </div>\r\n                 <button\r\n                   onClick={() => setShowWarnings(!showWarnings)}\r\n                   className={`px-3 py-1 text-xs rounded-full transition-colors ${\r\n                     showWarnings \r\n                       ? 'bg-green-100 text-green-700' \r\n                       : 'bg-gray-100 text-gray-700'\r\n                   }`}\r\n                 >\r\n                   {showWarnings ? 'ON' : 'OFF'}\r\n                 </button>\r\n               </div>\r\n               \r\n               {/* Warning Summary */}\r\n               {warningMessages.length > 0 && (\r\n                 <div className=\"mb-4 p-3 bg-gray-50 rounded-lg\">\r\n                   <div className=\"flex items-center justify-between mb-2\">\r\n                     <span className=\"text-sm font-medium text-gray-700\">Warning Summary</span>\r\n                     <span className=\"text-sm text-gray-500\">{warningMessages.length} total</span>\r\n                   </div>\r\n                   <div className=\"flex space-x-2\">\r\n                     {warningMessages.some(w => w.priority === 1) && (\r\n                       <span className=\"text-xs px-2 py-1 bg-red-100 text-red-700 rounded-full\">\r\n                         {warningMessages.filter(w => w.priority === 1).length} Critical\r\n                       </span>\r\n                     )}\r\n                     {warningMessages.some(w => w.priority === 2) && (\r\n                       <span className=\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded-full\">\r\n                         {warningMessages.filter(w => w.priority === 2).length} High\r\n                       </span>\r\n                     )}\r\n                     {warningMessages.some(w => w.priority === 3) && (\r\n                       <span className=\"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full\">\r\n                         {warningMessages.filter(w => w.priority === 3).length} Medium\r\n                       </span>\r\n                     )}\r\n                     {warningMessages.some(w => w.priority === 4) && (\r\n                       <span className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full\">\r\n                         {warningMessages.filter(w => w.priority === 4).length} Low\r\n                       </span>\r\n                     )}\r\n                   </div>\r\n                 </div>\r\n               )}\r\n               {warningMessages.length > 0 ? (\r\n                 <div className=\"space-y-3\">\r\n                   {warningMessages.map((warning, index) => (\r\n                     <div \r\n                       key={index} \r\n                       className={`flex items-start space-x-2 p-3 rounded-lg border-l-4 ${\r\n                         warning.priority === 1 ? 'priority-1' :\r\n                         warning.priority === 2 ? 'priority-2' :\r\n                         warning.priority === 3 ? 'priority-3' :\r\n                         'priority-4'\r\n                       }`}\r\n                     >\r\n                       <span className=\"text-lg\">{warning.icon}</span>\r\n                       <div className=\"flex-1\">\r\n                         <p className={`text-sm font-medium ${\r\n                           warning.type === 'error' \r\n                             ? 'text-red-800' \r\n                             : warning.type === 'warning'\r\n                             ? 'text-yellow-800'\r\n                             : 'text-blue-800'\r\n                         }`}>\r\n                           {warning.message}\r\n                         </p>\r\n                         <div className=\"flex items-center space-x-2 mt-2\">\r\n                           <span className={`text-xs px-2 py-1 rounded-full font-medium ${\r\n                             warning.priority === 1 ? 'bg-red-200 text-red-800' :\r\n                             warning.priority === 2 ? 'bg-orange-200 text-orange-800' :\r\n                             warning.priority === 3 ? 'bg-yellow-200 text-yellow-800' :\r\n                             'bg-blue-200 text-blue-800'\r\n                           }`}>\r\n                             Priority {warning.priority}\r\n                           </span>\r\n                           <span className={`text-xs px-2 py-1 rounded-full ${\r\n                             warning.type === 'error' ? 'bg-red-100 text-red-700' : \r\n                             warning.type === 'warning' ? 'bg-yellow-100 text-yellow-700' : \r\n                             'bg-blue-100 text-blue-700'\r\n                           }`}>\r\n                             {warning.type === 'error' ? 'Critical' : \r\n                              warning.type === 'warning' ? 'Important' : 'Info'}\r\n                           </span>\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                   ))}\r\n                 </div>\r\n               ) : (\r\n                 <div className=\"text-center py-4\">\r\n                   <CheckCircle className=\"w-8 h-8 text-green-500 mx-auto mb-2\" />\r\n                   <p className=\"text-sm text-gray-500\">No warnings detected</p>\r\n                   <p className=\"text-xs text-gray-400\">Keep up the good work!</p>\r\n                 </div>\r\n               )}\r\n             </div>\r\n\r\n            {/* Emotion Analysis */}\r\n            {metrics.emotionScores && Object.keys(metrics.emotionScores).length > 0 && (\r\n              <div className=\"metrics-card p-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n                  <Brain className=\"w-5 h-5 mr-2\" />\r\n                  Emotion Analysis\r\n                </h3>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  {Object.entries(metrics.emotionScores).map(([emotion, score]) => (\r\n                    <div key={emotion} className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm text-gray-700 capitalize\">{emotion}</span>\r\n                      <span className=\"text-sm font-semibold text-gray-900\">\r\n                        {Math.round(score * 100)}%\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Interview Progress */}\r\n            <div className=\"metrics-card p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Progress</h3>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm text-gray-700\">Questions Completed</span>\r\n                  <span className=\"text-sm font-semibold text-gray-900\">\r\n                    {currentQuestionIndex + 1} / {questions.length}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div \r\n                    className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                    style={{ width: `${((currentQuestionIndex + 1) / questions.length) * 100}%` }}\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"text-center\">\r\n                  <span className=\"text-xs text-gray-500\">\r\n                    {Math.round(((currentQuestionIndex + 1) / questions.length) * 100)}% Complete\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InterviewRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}